performance.mark("js-parse-end:4363-9fa9aa906e246963.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["4363"],{76390(e,t,i){i.d(t,{X_:()=>TeamReviewRequestedFilterProvider,$q:()=>ParentIssueFilterProvider,pv:()=>UpdatedFilterProvider,Dv:()=>UserFilterProvider,_N:()=>CommenterFilterProvider,kr:()=>AsyncFilterProvider,AM:()=>DateFilterProvider,C2:()=>StatusFilterProvider,tQ:()=>BlockingSearchFilterProvider,n5:()=>AssigneeFilterProvider,aF:()=>LabelFilterProvider,a2:()=>LanguageFilterProvider,LB:()=>UserReviewRequestedFilterProvider,ac:()=>BaseIssueFilterProvider,W$:()=>SelectFilterProvider,Ws:()=>HeadFilterProvider,IL:()=>InvolvesFilterProvider,Or:()=>MergedFilterProvider,Pd:()=>MentionsFilterProvider,ne:()=>NumericFilterProvider,KX:()=>ShaFilterProvider,uB:()=>SortFilterProvider,rL:()=>BlockedBySearchFilterProvider,NN:()=>TeamFilterProvider,A6:()=>ReviewFilterProvider,HD:()=>InFilterProvider,Wq:()=>BooleanFilterProvider,Ge:()=>CommentsFilterProvider,d$:()=>LinkedFilterProvider,Bc:()=>AuthorFilterProvider,tW:()=>NestedFilterProvider,Qh:()=>BaseUserFilterProvider,z_:()=>InCommentsFilterProvider,E:()=>OrgFilterProvider,AR:()=>ArchivedFilterProvider,Ag:()=>ReasonFilterProvider,ws:()=>ClosedFilterProvider,$W:()=>InTitleFilterProvider,NT:()=>InteractionsFilterProvider,jf:()=>KeyOnlyFilterProvider,Qq:()=>MilestoneFilterProvider,RY:()=>ei,I4:()=>IsFilterProvider,pH:()=>RepositoryFilterProvider,uy:()=>StaticFilterProvider,dR:()=>BaseFilterProvider,jd:()=>InBodyFilterProvider,FG:()=>ProjectFilterProvider,WE:()=>ReactionsFilterProvider,kL:()=>ReviewRequestedFilterProvider,sW:()=>ReviewedByFilterProvider,PT:()=>StateFilterProvider,FZ:()=>DraftFilterProvider,_O:()=>CreatedFilterProvider});var r=i(35750),s=i(18150),l=i(85242),a=i(50467),o=i(72623),n=i(39579),u=i(62559),d=i(32706),c=i(63526),p=i(21201),v=i(18292),h=new WeakMap;let y=class ValidationAbortController extends AbortController{abortIfChanged(e){(void 0===e||e!==(0,r._)(this,h))&&this.abort()}constructor(e){super(),(0,s._)(this,h,{writable:!0,value:void 0}),(0,l._)(this,h,e)}};let AsyncFilterProvider=class AsyncFilterProvider extends v.A{abortPreviousSuggestionsRequests(){this.abortSuggestionsController.abort(),this.abortSuggestionsController=new AbortController}abortPreviousValidationRequests(e){this.abortValidationController.abortIfChanged(e?.raw),this.abortValidationController=new y(e?.raw)}getFilterValue(e,t){return t||((0,p.I8)((0,p.sF)(e)?(0,p.I8)(e.value?.values.at(-1)?.value):e.raw)??"")}getMetaSuggestions(e){return[]}async processSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let s=(0,p.DS)(t,r);this.abortPreviousSuggestionsRequests();let l=this.abortSuggestionsController,a=t.provider.key,o=[],n=(0,p.jL)(this.displayName,this.icon),u=(0,p.Ms)(this.displayName,this.icon),d=(0,p.m1)(a);(0,p.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")&&o.push(n),(0,p.uT)(t)&&this.options.filterTypes.hasValue&&!t.raw.startsWith("-")&&o.push(u),this.options.filterTypes.exclusive&&""===s&&(0,p.aK)(t)&&t.raw!==`-${a}:`&&o.unshift(d);let c=o;if(this.allowsFilterValues()){for(let r of c=[...o,...[...await this.fetchSuggestions(s,t,e)??[]].map(t=>i(t,s,e))])[n,u,d].includes(r)||this.prefetchedSuggestions.set(r.value,r);if(l.signal.aborted)return null}return c}async validateFilterBlockValues(e,t,i){let r={},s=i.map(async(s,l)=>{let a=(0,p.M5)(s.value);if(!this.allowsFilterValues())return{...s,valid:!1,validations:[{type:c.b.InvalidValue,message:u.D.filterValuesUnsupported(this.key)}]};let o=i.findIndex(e=>(0,p.M5)(e.value)===a);if(!a||o<l&&o>=0){r[l]={...s,valid:!1,validations:[{type:c.b.EmptyValue,message:u.D.filterValueEmpty(this.key)}]};return}let d=this.prefetchedSuggestions.get(a),v=this.getMetaSuggestions(a)?.[0];if(d){r[l]={...s,...d,valid:!0,value:s.value};return}if(v?.value===a){r[l]={...s,...v,valid:!0,value:s.value};return}if(e.activeBlockId!==t.id){let t=this.getFilterValue({id:1,type:c._B.Filter,raw:`${this.key}:`,value:{raw:a,values:[{value:a}]}},a),i=await this.validateFilterValue(t,e.contextURLParams,e);if(i instanceof Error)"Aborted"===i.message?r[l]={...s,valid:void 0,value:s.value}:r[l]={...s,valid:!1};else{let t=this.validateValue?.(e,s,i);return t?t.value===n.rt?r[l]={...s,valid:!0,value:s.value}:r[l]={...s,valid:!0,...t,value:s.value}:r[l]={...s,valid:!1,validations:[{type:c.b.InvalidValue,message:u.D.filterInvalidValue(this.key,a)}]},s}}r[l]={...s,valid:void 0}});return await Promise.all(s),Object.values(r)}async fetchSuggestions(e,t,i){try{if(this.suggestionCache.has(e))return this.suggestionCache.get(e)??[];if(!this.suggestionEndpoint||""===this.suggestionEndpoint)throw Error("No suggestion endpoint provided");let t=new URL(this.suggestionEndpoint,window.location.origin),r=i.contextURLParams,s=new URLSearchParams([r?.toString(),this.providerContext?.toString()].join("&"));s.set("q",e),s.set("filter_value",e),t.search=s.toString();let l=await this.fetchData(t.toString());if(!l||!l.ok)return null;let a=await l.json(),o=Object.keys(a)[0],n=o?a[o]:null;if(Array.isArray(n)&&n.length<d.Rx&&this.completeResultSetQueries.add(e),!n)return null;return this.suggestionCache.set(e,n),n}catch{return null}}isCompleteResultSetQuery(e){return!!e&&-1!==Array.from(this.completeResultSetQueries).findIndex(t=>""===t?t===e:e.startsWith(t))}rankSuggestion(e,t,i){return{...t,priority:t.priority??3}}findPrefetchedSuggestions(e){if(!e)return[];let t=(0,o.t)({items:[...this.prefetchedSuggestions.values()],filter:e,key:e=>(0,p.I8)(e.value)??"",secondaryKey:e=>e.displayName??e.description??""}).map(t=>this.rankSuggestion(e,t,{})).sort((e,t)=>t.priority-e.priority).slice(0,d.Rx);return t.push(...this.getMetaSuggestions(e)),t}async validateFilterValue(e,t,i){try{let r;if(this.validationCache.has(e))return this.validationCache.get(e)??null;if(!this.validationEndpoint||""===this.validationEndpoint)throw Error("No validation endpoint provided");let s=new URL(this.validationEndpoint,window.location.origin),l=new URLSearchParams([t?.toString(),this.providerContext?.toString()].join("&"));l.set("q",e),l.set("filter_value",e),s.search=l.toString(),this.abortPreviousValidationRequests(i);let a=await this.fetchData(s.toString(),this.abortValidationController);if(!a)return Error("Aborted");if(!a.ok)return null;let o=await a.json(),n=Object.keys(o);return r=1===n.length&&n[0]&&Array.isArray(o[n[0]])?Array.isArray(o[n[0]])?o[n[0]][0]:o[n[0]]:o,this.validationCache.set(e,r),r}catch{return null}}async fetchData(e,t){let i;try{i=await fetch(e,{method:"GET",mode:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},signal:t?.signal})}catch(e){if("AbortError"!==e.name)throw e}return i}constructor(e,t){super(e,t),(0,a._)(this,"suggestionCache",void 0),(0,a._)(this,"validationCache",void 0),(0,a._)(this,"prefetchedSuggestions",void 0),(0,a._)(this,"completeResultSetQueries",void 0),(0,a._)(this,"providerContext",void 0),(0,a._)(this,"suggestionEndpoint",void 0),(0,a._)(this,"validationEndpoint",void 0),(0,a._)(this,"abortSuggestionsController",void 0),(0,a._)(this,"abortValidationController",void 0),(0,a._)(this,"valueValidator",void 0),this.suggestionEndpoint="",this.validationEndpoint="",this.suggestionCache=new Map,this.completeResultSetQueries=new Set,this.validationCache=new Map,this.abortSuggestionsController=new AbortController,this.abortValidationController=new y,this.prefetchedSuggestions=new Map}};var g=i(86398),f=i(91271),m=i(91385),P=i(92688);let F=[">=","<=",">","<"];let StaticFilterProvider=class StaticFilterProvider extends v.e{getfilterKeys(){return[{key:this.key,aliases:this.aliases,displayName:this.displayName,description:this.description,priority:this.priority,icon:this.icon,options:this.options}]}getSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let s=(0,p.DS)(t,r),l=t.provider.key,a=[];if((0,p.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")&&a.push((0,p.jL)(this.displayName,this.icon)),(0,p.uT)(t)&&this.options.filterTypes.hasValue&&!t.raw.startsWith("-")&&a.push((0,p.Ms)(this.displayName,this.icon)),this.options.filterTypes.exclusive&&""===s&&(0,p.aK)(t)&&!t.raw.startsWith("-")){let e=(0,p.m1)(l);a.unshift(e)}if(!this.allowsFilterValues())return a;let o=F.find(e=>s===e||s===`${e}@`);if(!s&&!o)return a.concat(this.filterValues);for(let e of this.filterValues){let{value:t,displayName:r}=e,l=(0,p.I8)(t),n={...e,type:c.ak.Value},u=l&&!F.find(e=>l.startsWith(e));if(this.type===c.CH.Date&&u)n.value=`${o??""}${l}`;else{let t=!!l&&(0,m.qA)(s,l),a=!!i.aliasMatching&&e.aliases&&e.aliases.some(e=>(0,m.qA)(s,e)),o=!!r&&(0,m.qA)(s,r);if(!l||!t&&!o&&!a)continue}e.priority-=(0,f.dt)(s,l),a.push(n)}return a}validateFilterBlockValues(e,t,i,r){return i.map((e,i)=>{if(!this.allowsFilterValues())return{...e,valid:!1,validations:[{type:c.b.InvalidValue,message:u.D.filterValuesUnsupported(this.key)}]};if(!this.options.filterTypes.multiValue&&(t.operator===c.tl.Between&&i>1||t.operator!==c.tl.Between&&i>0))return S(e,this.key);let r=(0,p.M5)(e.value);return r?t.operator===c.tl.Between&&F.some(e=>r.startsWith(e))?w(e,r,this.key):{...e,valid:!0}:V(e,this.key)})}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,leadingVisual:(0,P.d)({value:e})}}constructor(e,t,i){super(e,i),(0,a._)(this,"filterValues",void 0),this.filterValues=t.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`}))}};let S=(e,t)=>({...e,valid:!1,validations:[{type:c.b.MultiValueUnsupported,message:u.D.filterMultiValueFalse(t)}]}),V=(e,t)=>({...e,valid:!1,validations:[{type:c.b.EmptyValue,message:u.D.filterValueEmpty(t)}]}),w=(e,t,i)=>({...e,valid:!1,validations:[{type:c.b.InvalidValue,message:u.D.filterInvalidValue(i,t)}]});let BooleanFilterProvider=class BooleanFilterProvider extends StaticFilterProvider{validateFilterBlockValues(e,t,i,r){return i.map((e,t)=>{if(!this.allowsFilterValues())return{...e,valid:!1,validations:[{type:g.b.InvalidValue,message:u.D.filterValuesUnsupported(this.key)}]};if(!this.options.filterTypes.multiValue&&t>0)return S(e,this.key);let i=(0,p.M5)(e.value);if(!i)return V(e,this.key);let s=void 0!==this.filterValues.find(e=>(0,p.I8)(e.value)===i||r?.aliasMatching&&e.aliases?.includes(i)),l=this.filterValues.find(e=>(0,p.SH)((0,p.I8)(e.value)??"",i));return l?{...e,...l,valid:!0,value:e.value}:{...e,valid:s}})}constructor(e,t=g.bO,i){super(e,t,{...i,...p.Oo}),this.type=g.CH.Boolean}};let ArchivedFilterProvider=class ArchivedFilterProvider extends BooleanFilterProvider{constructor(e){super(g._i.archived,g.sS.archived,{...e,filterTypes:{...e?.filterTypes,multiValue:!1,valueless:!1}})}};let DraftFilterProvider=class DraftFilterProvider extends BooleanFilterProvider{constructor(e){super(g._i.draft,g.sS.draft,{...e,filterTypes:{multiValue:!1,valueless:!1,...e?.filterTypes}}),this.type=g.CH.Boolean}};let _=/^(?:>|<|>=|<=)?(\d{4}-\d{1,2}-\d{1,2})?$/,k=/^(?:>|<|>=|<=)?(\d{4}-\d{1,2})?$/,T=/^(?:>|<|>=|<=)?(\d{4})?$/,x=/^(?:>|<|>=|<=)?(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z?)$/,C=/^(?:>|<|>=|<=)?(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\+\d{2}:\d{2})$/,b=/^(?:>|<|>=|<=)?(@[A-Za-z]+)([+-]\d+[mdwqy])?$/,I=[">=","<=",">","<"];let DateFilterProvider=class DateFilterProvider extends StaticFilterProvider{validateFilterBlockValues(e,t,i,r){return i.map((e,i)=>{if(!this.allowsFilterValues())return{...e,valid:!1,validations:[{type:c.b.InvalidValue,message:u.D.filterValuesUnsupported(this.key)}]};if(!this.options.filterTypes.multiValue&&(t.operator===c.tl.Between&&i>1||t.operator!==c.tl.Between&&i>0))return S(e,this.key);let r=(0,p.M5)(e.value);if(!r)return V(e,this.key);if(t.operator===c.tl.Between&&I.some(e=>r.startsWith(e)))return w(e,r,this.key);let s=!0;if(r)if("*"===r)s=!0;else if(b.test(r)){let[,e]=b.exec(r)??[];s=void 0!==this.filterValues.find(t=>(0,p.I8)(t.value)===e)}else{let e=null;C.test(r)?e=C.exec(r)?.[1]??null:x.test(r)?e=x.exec(r)?.[1]??null:_.test(r)?e=_.exec(r)?.[1]??null:k.test(r)?e=k.exec(r)?.[1]??null:T.test(r)&&(e=T.exec(r)?.[1]??null),s=!!e&&!isNaN(Date.parse(e))}return{...e,valid:s}})}constructor(e,t,i){super(e,t,{...g.dQ,...i,filterTypes:{...g.dQ.filterTypes,multiKey:!1,multiValue:!1,...i?.filterTypes}}),this.type=c.CH.Date,this.filterValues=t.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`}))}};let ClosedFilterProvider=class ClosedFilterProvider extends DateFilterProvider{constructor(e){super(n._i.closed,n.sS.closed,e),this.type=c.CH.Date}};let CreatedFilterProvider=class CreatedFilterProvider extends DateFilterProvider{constructor(e){const t={filterTypes:{valueless:!1}};super(n._i.created,n.sS.created,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}}),this.type=c.CH.Date}};let MergedFilterProvider=class MergedFilterProvider extends DateFilterProvider{constructor(e){const t={...e,filterTypes:{...e?.filterTypes,multiValue:!1}};super(n._i.merged,n.sS.merged,t),this.type=c.CH.Date}};let UpdatedFilterProvider=class UpdatedFilterProvider extends DateFilterProvider{constructor(e){super(n._i.updated,n.sS.updated,{...e,filterTypes:{hasValue:!1,...e?.filterTypes}}),this.type=c.CH.Date}};i(96482);var N=i(88243),B=i(16213),A=i(38621),R=new WeakSet;let BaseIssueFilterProvider=class BaseIssueFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,(0,N._)(this,R,$).bind(this),r)}getIconData(e){return"open"===e.state?{icon:A.IssueOpenedIcon,iconColor:"var(--fgColor-success, var(--color-success-fg))"}:"not_planned"===e.stateReason?{icon:A.SkipIcon,iconColor:"var(-fgColor-muted, var(--color-neutral-emphasis))"}:{icon:A.IssueClosedIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"}}rankSuggestion(e,t){let{ariaLabel:i,description:r}=t,s=i?.split(",")[0]??"",l=n.E4;return e&&(s&&(l-=(0,f.dt)(e,s)),r&&(l-=(0,f.dt)(e,r))),{...t,priority:l}}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!r&&(i?{displayName:i.title,value:r}:!e.context.repo&&!e.context.org&&{value:n.rt})}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e,t){super(e,t),(0,B._)(this,R),this.suggestionEndpoint="/_filter/issues",this.validationEndpoint="/_filter/issues/validate",this.type=c.CH.Select}};function $(e,t){let{title:i,titleHtml:r,nwoReference:s}=e;return this.rankSuggestion(t,{type:c.ak.Value,displayName:i,displayNameHtml:r,ariaLabel:`${i}, ${this.displayName}`,description:s,inlineDescription:!1,value:s??"",...this.getIconData(e)})}let ParentIssueFilterProvider=class ParentIssueFilterProvider extends BaseIssueFilterProvider{constructor(e,t){super(e||n._i.parentIssue,t),this.providerContext=new URLSearchParams({parent:"true"})}};let BlockingSearchFilterProvider=class BlockingSearchFilterProvider extends BaseIssueFilterProvider{constructor(e,t){super(e||n._i.blocking,{filterTypes:{hasValue:!0},...t})}};let BlockedBySearchFilterProvider=class BlockedBySearchFilterProvider extends BaseIssueFilterProvider{constructor(e,t){super(e||n._i.blockedBy,{filterTypes:{hasValue:!0},...t})}};var U=i(68235);let KeyOnlyFilterProvider=class KeyOnlyFilterProvider extends v.e{getSuggestions(e,t,i,r){if(!this.shouldGetSuggestions(t))return null;let s=(0,p.DS)(t,r),l=t.provider.key,a=[];if((0,p.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")&&a.push((0,p.jL)(this.displayName,this.icon)),(0,p.uT)(t)&&this.options.filterTypes.hasValue&&!t.raw.startsWith("-")&&a.push((0,p.Ms)(this.displayName,this.icon)),this.options.filterTypes.exclusive&&""===s&&(0,p.aK)(t)&&!t.raw.startsWith("-")){let e=(0,p.m1)(l);a.unshift(e)}return a}validateFilterBlockValues(e,t,i){return i.map(e=>({...e,valid:!0}))}getValueRowProps(){return{text:""}}constructor(e,t){super(e,t),Object.assign(this,e),this.key=e.key,this.icon=e.icon,this.displayName=e.displayName??(0,p.ZH)(e.key),this.options={...U.dQ,...t,filterTypes:{...U.dQ.filterTypes,multiValue:!1,valueless:!1,...t?.filterTypes}},this.priority=this.options.priority}};let BaseFilterProvider=class BaseFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(n._i.base,e)}};let HeadFilterProvider=class HeadFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(n._i.head,e)}};let InBodyFilterProvider=class InBodyFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(n._i.inBody,e)}};let InCommentsFilterProvider=class InCommentsFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(n._i.inComments,e)}};let InTitleFilterProvider=class InTitleFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(n._i.inTitle,e)}};let ShaFilterProvider=class ShaFilterProvider extends KeyOnlyFilterProvider{constructor(e){super(n._i.sha,e)}};let LabelFilterProvider=class LabelFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,this.processSuggestion.bind(this),r)}getIconData(e,t){return t.repo?{iconColor:e.color?.startsWith("#")?e.color:`#${e.color}`,description:e.description,inlineDescription:!1}:{icon:this.icon}}rankSuggestion(e,t){let{value:i}=t,r=(0,p.M5)(i)||"",s=n.E4;return e&&r&&(s-=(0,f.dt)(e,r)),{...t,priority:s}}processSuggestion(e,t,i){return this.rankSuggestion(t,{type:c.ak.Value,displayName:e.name,displayNameHtml:e.nameHtml,ariaLabel:`${e.name}, ${this.displayName}`,value:e.name??"",...this.getIconData(e,i.context)})}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!r&&(i?{iconColor:i.color?.startsWith("#")?i.color:`#${i.color}`,value:r,displayName:i.name,...this.getIconData(i,e.context)}:!e.context.repo&&{value:n.rt})}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon})}}constructor(e){super(n._i.label,e),this.suggestionEndpoint="/_filter/labels",this.validationEndpoint="/_filter/labels/validate",this.type=c.CH.Select}};var M=new WeakSet;let LanguageFilterProvider=class LanguageFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,(0,N._)(this,M,D).bind(this),r)}rankSuggestion(e,t){let i=(0,p.M5)(t.value),r=n.E4;return e&&i&&(r-=(0,f.dt)(e,i)),{...t,priority:r}}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!i&&!!r&&{iconColor:i.color?.startsWith("#")?i.color:`#${i.color}`,value:r,displayName:i.name}}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon})??void 0}}constructor(e){super(n._i.language,e),(0,B._)(this,M),this.suggestionEndpoint="/_filter/languages",this.validationEndpoint="/_filter/languages/validate",this.type=c.CH.Select}};function D(e,t){return this.rankSuggestion(t,{type:c.ak.Value,displayName:e.name,ariaLabel:`${e.name}, ${this.displayName}`,value:e.name??"",iconColor:e.color?.startsWith("#")?e.color:`#${e.color}`})}var E=new WeakSet;let MilestoneFilterProvider=class MilestoneFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,(0,N._)(this,E,L).bind(this),r)}rankSuggestion(e,t){let i=(0,p.M5)(t.value),r=n.E4;return e&&i&&(r-=(0,f.dt)(e,i)),{...t,priority:r}}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!r&&(i?{value:r,displayName:i.title,description:i.description}:!e.context.repo&&!e.context.org&&{value:n.rt})}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(n._i.milestone,e),(0,B._)(this,E),this.suggestionEndpoint="/_filter/milestones",this.validationEndpoint="/_filter/milestones/validate",this.type=c.CH.Select}};function L(e,t){let{id:i,title:r,description:s}=e;return this.rankSuggestion(t,{id:i,type:c.ak.Value,displayName:r,ariaLabel:`${r}, ${this.displayName}`,value:r,description:s,inlineDescription:!1,icon:this.icon})}let W=/^(?!-)(?:>|<|>=|<=)?(\d+)$/,H=/^(?:>|<|>=|<=)?-(\d+)$/,K=/^(?:>|<|>=|<=)?(\d+\.\d+|\d+)$/,q=/^(?:>|<|>=|<=)?-(\d+\.\d+|\d+)$/,Q=[">=","<=",">","<"];let NumericFilterProvider=class NumericFilterProvider extends StaticFilterProvider{validateFilterBlockValues(e,t,i){return i.map((e,i)=>{if(!this.allowsFilterValues())return{...e,valid:!1,validations:[{type:c.b.InvalidValue,message:u.D.filterValuesUnsupported(this.key)}]};if(!this.options.filterTypes.multiValue&&(t.operator===c.tl.Between&&i>1||t.operator!==c.tl.Between&&i>0))return S(e,this.key);let r=(0,p.M5)(e.value);if(!r)return V(e,this.key);if(t.operator===c.tl.Between&&Q.some(e=>r.startsWith(e)))return w(e,r,this.key);let s=!1,l=!1,a=!1;if(this.decimal){let e=r.match(K);a=(s=(e?.length??0)>0&&e?.[0]===r)&&r.includes(".")}else{let e=r.match(W);s=(e?.length??0)>0&&e?.[0]===r}if(this.decimal){let e=r.match(q);(l=(e?.length??0)>0&&e?.[0]===r)&&r.includes(".")&&(a=!0)}else{let e=r.match(H);l=(e?.length??0)>0&&e?.[0]===r}let o=s||l,n=this.positive&&s||this.negative&&l,d=this.decimal||!a;return{...e,valid:o&&n&&d}})}constructor(e,t,i){super(e,t,{...g.dQ,...i,filterTypes:{...g.dQ.filterTypes,valueless:!1,exclusive:!1,multiKey:!1,multiValue:!1,...i?.filterTypes}}),(0,a._)(this,"positive",void 0),(0,a._)(this,"negative",void 0),(0,a._)(this,"decimal",void 0),this.positive=i?.positive??!0,this.negative=i?.negative??!1,this.decimal=i?.decimal??!1,this.filterValues=t.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`})),this.type=c.CH.Number}};let CommentsFilterProvider=class CommentsFilterProvider extends NumericFilterProvider{constructor(e){const t={filterTypes:{multiValue:!1,valueless:!1}};super(n._i.comments,n.sS.comments,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}})}};let InteractionsFilterProvider=class InteractionsFilterProvider extends NumericFilterProvider{constructor(e){const t={filterTypes:{multiValue:!1,valueless:!1}};super(n._i.interactions,n.sS.interactions,{...t,...e,filterTypes:{...t.filterTypes,...e?.filterTypes}})}};let ReactionsFilterProvider=class ReactionsFilterProvider extends NumericFilterProvider{constructor(e){super(n._i.reactions,n.sS.reactions,{...e,filterTypes:{multiValue:!1,valueless:!1,...e?.filterTypes}})}};let SelectFilterProvider=class SelectFilterProvider extends StaticFilterProvider{validateFilterBlockValues(e,t,i,r){return i.map((e,t)=>{if(!this.allowsFilterValues())return{...e,valid:!1,validations:[{type:c.b.InvalidValue,message:u.D.filterValuesUnsupported(this.key)}]};if(!this.options.filterTypes.multiValue&&t>0)return S(e,this.key);let i=(0,p.M5)(e.value);if(!i)return V(e,this.key);let s=void 0!==this.filterValues.find(e=>(0,p.I8)(e.value)===i||r?.aliasMatching&&e.aliases?.includes(i)),l=this.filterValues.find(e=>(0,p.SH)((0,p.I8)(e.value)??"",i));return l?{...e,...l,valid:!0,value:e.value}:{...e,valid:!this.strictMatching||s}})}constructor(e,t,i){super(e,t,i),(0,a._)(this,"strictMatching",void 0),this.filterValues=t.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`})),this.strictMatching=i?.strictMatching??!0,this.type=this.strictMatching?c.CH.Select:c.CH.Text}};let IsFilterProvider=class IsFilterProvider extends SelectFilterProvider{constructor(e,t){const i=e?.map(e=>n.VT[e]).filter(Boolean)??[],r={filterTypes:{valueless:!1}};super(n._i.is,i?.length>0?i:n.sS.is,{...r,...t,filterTypes:{...r.filterTypes,hasValue:!1,...t?.filterTypes}})}};let InFilterProvider=class InFilterProvider extends SelectFilterProvider{constructor(e,t){const i=e?.map(e=>n.oO[e]).filter(Boolean)??[],r={filterTypes:{valueless:!1,multiValue:!0}};super(n._i.in,i?.length>0?i:n.sS.in,{...r,...t,filterTypes:{...r.filterTypes,...t?.filterTypes}})}};let LinkedFilterProvider=class LinkedFilterProvider extends SelectFilterProvider{constructor(e,t){const i={...t,filterTypes:{...t?.filterTypes,multiValue:!1,valueless:!1}},r=e?.map(e=>n.Ez[e]).filter(Boolean)??[];super(n._i.linked,r?.length>0?r:n.sS.linked,i)}};let ReasonFilterProvider=class ReasonFilterProvider extends SelectFilterProvider{constructor(e){super(n._i.reason,n.sS.reason,{...e,filterTypes:{hasValue:!1,...e?.filterTypes}})}};let ReviewFilterProvider=class ReviewFilterProvider extends SelectFilterProvider{constructor(e){super(n._i.review,n.sS.review,e)}};let SortFilterProvider=class SortFilterProvider extends SelectFilterProvider{constructor(e,t){const i=[...e.map(e=>n.$c[e]).flat().filter(Boolean)??[],...e?.includes("reactions")?n.OV:[]];super(n._i.sort,i?.length>0?i:n.sS.sort,t)}};let StateFilterProvider=class StateFilterProvider extends SelectFilterProvider{constructor(e="mixed",t){const i=(0,p.Lu)(e),r={filterTypes:{valueless:!1}};super(n._i.state,i,{...r,...t,filterTypes:{...r.filterTypes,hasValue:!1,...t?.filterTypes}}),(0,a._)(this,"stateContext",void 0),this.stateContext=e}};let StatusFilterProvider=class StatusFilterProvider extends SelectFilterProvider{constructor(e){super(n._i.status,n.sS.status,e)}};let O={boolean:A.CheckCircleIcon,select:A.SingleSelectIcon,text:A.TypographyIcon,date:A.CalendarIcon,number:A.NumberIcon};let NestedFilterProvider=class NestedFilterProvider{constructor(e,t){(0,a._)(this,"subKeys",void 0),(0,a._)(this,"filterProviders",void 0);const{subKeys:i,...r}=e;this.subKeys=i,this.filterProviders=i.map(e=>{let i={...e,type:e.type,key:`${r.key}.${e.key}`,displayName:e.displayName??e.key,description:e.description,priority:g.a6,icon:e.icon??O[e.type]};if(e.type===c.CH.Boolean)return new BooleanFilterProvider(i,void 0,t);{if(e.type===c.CH.Select)return new SelectFilterProvider(i,e.values,{...e.options,filterTypes:{...g.dQ.filterTypes,...e.options?.filterTypes}});if(e.type===c.CH.Text)return new KeyOnlyFilterProvider(i,e.options);if(e.type===c.CH.Date)return new DateFilterProvider(i,e.values||[],{...e.options,filterTypes:{...g.dQ.filterTypes,...e.options?.filterTypes}});if(e.type===c.CH.Number)return new NumericFilterProvider(i,e.values||[],{...e.options,filterTypes:{...g.dQ.filterTypes,...e.options?.filterTypes}});let t=new StaticFilterProvider(i,e.values||[],{...e.options,filterTypes:{...g.dQ.filterTypes,...e.options?.filterTypes}});return t.type=i.type,t}}),this.filterProviders.push(new StaticFilterProvider({...r,key:`${r.key}.`},[],t))}};var j=i(32764),G=new WeakSet;let OrgFilterProvider=class OrgFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,(0,N._)(this,G,z).bind(this),r)}rankSuggestion(e,t){let{displayName:i,description:r}=t,s=n.E4;return e&&(i&&(s-=(0,f.dt)(e,i)),r&&(s-=(0,f.dt)(e,r))),{...t,priority:s}}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!i&&!!r&&{avatar:i.avatarUrl?{url:i.avatarUrl,type:c.uW.Org}:void 0,value:r,displayName:i.name}}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(n._i.org,e),(0,B._)(this,G);const t=e?.businessSlug;this.suggestionEndpoint=t?(0,j.MeY)({businessSlug:t}):"/_filter/organizations",this.validationEndpoint=t?(0,j.ohj)({businessSlug:t}):"/_filter/organizations/validate",this.type=c.CH.Select}};function z(e,t){let{name:i,login:r,avatarUrl:s}=e;return this.rankSuggestion(t,{type:c.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,p.$4)(r)??"",description:r,inlineDescription:!0,icon:s?void 0:this.icon,avatar:s?{url:s,type:c.uW.Org}:void 0})}var Y=new WeakSet;let ProjectFilterProvider=class ProjectFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,(0,N._)(this,Y,Z).bind(this),r)}rankSuggestion(e,t){let{description:i,displayName:r}=t,s=n.E4;return e&&(r&&(s-=(0,f.dt)(e,r)),i&&(s-=(0,f.dt)(e,i))),{...t,priority:s}}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!r&&(i?{displayName:i.title,value:r}:!e.context.repo&&!e.context.org&&{value:n.rt})}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"block"}}constructor(e){super(n._i.project,e),(0,B._)(this,Y),this.suggestionEndpoint="/_filter/projects",this.validationEndpoint="/_filter/projects/validate",this.type=c.CH.Select}};function Z(e,t){let{title:i,value:r}=e;return this.rankSuggestion(t,{type:c.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,p.$4)(r)??"",description:r,inlineDescription:!1})}var X=new WeakSet;let RepositoryFilterProvider=class RepositoryFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,(0,N._)(this,X,J).bind(this),r)}rankSuggestion(e,t){let{displayName:i}=t,r=n.E4;return e&&i&&(r-=(0,f.dt)(e,i)),{...t,priority:r}}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!i&&!!r&&{displayName:i.name,value:r}}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"block",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon,squareIcon:!0})}}constructor(e){super(n._i.repo,e),(0,B._)(this,X),this.suggestionEndpoint="/_filter/repositories",this.validationEndpoint="/_filter/repositories/validate",this.type=c.CH.Select}};function J(e,t){let{nameWithOwner:i}=e;return this.rankSuggestion(t,{type:c.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:i,inlineDescription:!1,icon:this.icon})}var ee=new WeakSet;let BaseTeamFilterProvider=class BaseTeamFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){return this.processSuggestions(e,t,(0,N._)(this,ee,et).bind(this),r)}rankSuggestion(e,t){let{displayName:i,description:r}=t,s=n.E4;return e&&(i&&(s-=(0,f.dt)(e,i)),r&&(s-=(0,f.dt)(e,r))),{...t,priority:s}}validateValue(e,t,i){let r=(0,p.M5)(t.value);return!!r&&(i?{avatar:i.avatarUrl?{url:i.avatarUrl,type:c.uW.Team}:void 0,value:r,displayName:i.name}:!e.context.repo&&!e.context.org&&{value:n.rt})}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"inline",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon})}}constructor(e,t,i){super(e,i),(0,B._)(this,ee),this.suggestionEndpoint="/_filter/teams",this.validationEndpoint="/_filter/teams/validate",this.type=c.CH.Select}};function et(e,t){let{name:i,combinedSlug:r,avatarUrl:s}=e;return this.rankSuggestion(t,{type:c.ak.Value,displayName:i,value:(0,p.$4)(r)??"",ariaLabel:`${i}, ${this.displayName}`,description:r,inlineDescription:!0,icon:s?void 0:this.icon,avatar:s?{url:s,type:c.uW.Team}:void 0})}let TeamFilterProvider=class TeamFilterProvider extends BaseTeamFilterProvider{constructor(e,t){super(n._i.team,e,t)}};let TeamReviewRequestedFilterProvider=class TeamReviewRequestedFilterProvider extends BaseTeamFilterProvider{constructor(e,t){super(n._i.teamReviewRequested,e,t)}};let ei="@copilot",er={type:c.ak.Value,value:"@me",ariaLabel:"@me, Signed-in user",displayName:"Me",description:"Signed-in user",inlineDescription:!0,priority:1,icon:A.ArrowSwitchIcon,iconColor:"var(--fgColor-done, var(--color-done-fg))"};let BaseUserFilterProvider=class BaseUserFilterProvider extends AsyncFilterProvider{async getSuggestions(e,t,i,r){this.includeBots&&e.addQueryParam("include_bots","1"),this.copilotQueryParamKey&&e.addQueryParam(this.copilotQueryParamKey,"1");let s=await this.processSuggestions(e,t,this.processSuggestion.bind(this),r)??[],l=(0,p.DS)(t,r),a=+(s[0]?.type===c.ak.NoValue);if(this.showAtMe&&(""===l||(0,m.qA)(l,"@me"))&&(0,p.aK)(t)&&t.value?.values.findIndex(e=>"@me"===e.value)<0&&this.allowsFilterValues()&&(s.splice(a,0,er),a++),(""===l||(0,m.qA)(l,ei))&&(0,p.aK)(t)&&t.value?.values.findIndex(e=>e.value===ei)<0&&this.allowsFilterValues()){let e=s.findIndex(e=>e.value===ei);if(e>-1){let t=s.splice(e,1);this.showAtCopilot&&(s.splice(a,0,t[0]),a++)}}return s}processSuggestion(e,t){let{login:i,name:r,avatarUrl:s,isCopilot:l}=e;if(l)return{type:c.ak.Value,value:ei,ariaLabel:`${ei}, Your AI pair programmer`,displayName:i,description:"Your AI pair programmer",inlineDescription:!0,priority:1,icon:A.CopilotIcon,avatarUrl:s?{url:s,type:c.uW.User}:void 0,iconColor:"var(--fgColor-done, var(--color-done-fg))"};return this.rankSuggestion(t,{type:c.ak.Value,value:i,ariaLabel:`${i}, ${r}, ${this.displayName}`,description:r,inlineDescription:!0,icon:s?void 0:this.icon,avatar:s?{url:s,type:c.uW.User}:void 0})}rankSuggestion(e,t){let{value:i,description:r}=t,s=(0,p.M5)(i),l=n.E4;if(e){if(s){let t=(0,f.dt)(e,s);l-=(t!==f.IP?t:1)*.75}if(r){let t=(0,f.dt)(e,r);l-=(t!==f.IP?t:1)*.25}}return"@me"===s&&(l=1),{...t,priority:l}}getMetaSuggestions(e){let t,i=[];return this.showAtMe&&"@me".startsWith(e)&&i.push(er),this.options.filterTypes.hasValue&&"*".startsWith(e)&&i.push((t=this.displayName,{type:c.ak.Value,value:"*",displayName:`Has ${t.toLocaleLowerCase()}`,ariaLabel:`Has ${t}, ${t}`,priority:1,icon:A.PlusCircleIcon})),i}validateValue(e,t,i){let r=(0,p.M5)(t.value);return"@me"===r?{avatar:this.currentUserAvatarUrl?{url:this.currentUserAvatarUrl,type:c.uW.User}:void 0,value:r}:this.options.filterTypes.hasValue&&"*"===r||i&&this.showAtCopilot&&r===ei?{avatar:void 0,value:r}:i&&r?{avatar:i.avatarUrl?{url:i.avatarUrl,type:c.uW.User}:void 0,value:r,displayName:i.name}:!e.context.repo&&!e.context.org&&{value:n.rt}}validateFilterValue(e,t,i){let r=new URLSearchParams(t);return this.copilotQueryParamKey&&r.append(this.copilotQueryParamKey,"1"),super.validateFilterValue(e,r,i)}getValueRowProps(e){return{text:e.displayName??(0,p.I8)(e.value)??"",description:e.description,descriptionVariant:"inline",leadingVisual:(0,P.d)({value:e,providerIcon:this.icon})}}constructor(e,t,i){super(e,i),(0,a._)(this,"showAtMe",void 0),(0,a._)(this,"showAtCopilot",void 0),(0,a._)(this,"currentUserLogin",void 0),(0,a._)(this,"currentUserAvatarUrl",void 0),(0,a._)(this,"includeBots",void 0),(0,a._)(this,"copilotQueryParamKey",void 0),this.suggestionEndpoint="/_filter/users",this.validationEndpoint="/_filter/users/validate",this.currentUserLogin=t?.currentUserLogin,this.currentUserAvatarUrl=t?.currentUserAvatarUrl,this.includeBots=t?.includeBots??!1,this.type=c.CH.User,this.showAtMe=t?.showAtMe??!0,this.showAtCopilot=t?.showAtCopilot??!1}};let AssigneeFilterProvider=class AssigneeFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.assignee,e,t),this.copilotQueryParamKey=e?.showAtCopilot?"show_assignee_copilot":void 0}};let AuthorFilterProvider=class AuthorFilterProvider extends BaseUserFilterProvider{constructor(e,t){const i={filterTypes:{multiValue:!1,valueless:!1}};super(n.yV.author,{...e,includeBots:!0},{...i,...t,filterTypes:{...i.filterTypes,...t?.filterTypes}}),this.copilotQueryParamKey=e?.showAtCopilot?"show_author_copilot":void 0}};let CommenterFilterProvider=class CommenterFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.commenter,e,t)}};let InvolvesFilterProvider=class InvolvesFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.involves,e,t),this.copilotQueryParamKey=e?.showAtCopilot?"show_involves_copilot":void 0}};let MentionsFilterProvider=class MentionsFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.mentions,e,t)}};let ReviewedByFilterProvider=class ReviewedByFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.reviewedBy,e,t),this.copilotQueryParamKey=e?.showAtCopilot?"show_pull_request_reviewer_copilot":void 0}};let ReviewRequestedFilterProvider=class ReviewRequestedFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.reviewRequested,e,t),this.copilotQueryParamKey=e?.showAtCopilot?"show_pull_request_reviewer_copilot":void 0}};let UserFilterProvider=class UserFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.user,e,t)}};let UserReviewRequestedFilterProvider=class UserReviewRequestedFilterProvider extends BaseUserFilterProvider{constructor(e,t){super(n.yV.userReviewRequested,e,t)}}},72623(e,t,i){i.d(t,{t:()=>s});var r=i(91271);let s=({items:e,filter:t,key:i,secondaryKey:s})=>{let l=[];for(let a of e){let e=(0,r.dt)(t,i(a)),o=s?Math.max(e,(0,r.dt)(t,s(a))):e;o>r.IP&&l.push([o,a])}return l.sort(([e,t],[r,s])=>r===e?i(t).localeCompare(i(s)):r-e),l.map(([,e])=>e)}}}]);
//# sourceMappingURL=4363-9fa9aa906e246963-7093ffa50aea1089.js.map