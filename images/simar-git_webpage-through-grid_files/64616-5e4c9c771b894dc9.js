performance.mark("js-parse-end:64616-5e4c9c771b894dc9.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["64616"],{62655(e,n,t){function i(e){return l(e)[0]}function l(e){let n=[];for(let t of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[i,l]=t.trim().split("=");e===i&&void 0!==l&&n.push({key:i,value:l})}return n}function r(e,n,t=null,i=!1,l="lax"){let s=document.domain;if(null==s)throw Error("Unable to get document domain");s.endsWith(".github.com")&&(s="github.com");let o="https:"===location.protocol?"; secure":"",a=t?`; expires=${t}`:"";!1===i&&(s=`.${s}`);try{document.cookie=`${e}=${n}; path=/; domain=${s}${a}${o}; samesite=${l}`}catch{}}function s(e,n=!1){let t=document.domain;if(null==t)throw Error("Unable to get document domain");t.endsWith(".github.com")&&(t="github.com");let i=new Date(Date.now()-1).toUTCString(),l="https:"===location.protocol?"; secure":"",r=`; expires=${i}`;!1===n&&(t=`.${t}`);try{document.cookie=`${e}=''; path=/; domain=${t}${r}${l}`}catch{}}t.d(n,{OR:()=>l,Ri:()=>i,TV:()=>r,Yj:()=>s})},83515(e,n,t){t.d(n,{$I:()=>T,kR:()=>U,Y0:()=>R});var i=t(74848),l=t(16522),r=t(62655),s=t(53462),o=t(3433),a=t(54695),c=t(32343),u=t(1775),d=t(38621),h=t(41431),m=t(96540),g=t(83223),_=t(39081);let f=[{id:"one-day",text:"One day",days:1},{id:"one-week",text:"One week",days:7},{id:"one-month",text:"One month",days:30},{id:"one-year",text:"One year",days:365}],b=()=>f.findIndex(e=>30===e.days);function p(e){let n,t,r,s=(0,l.c)(7),{ssoOrgs:o}=e;if(1===o.length){let e,n=o[0],t=n?.name;return s[0]!==t?(e=(0,i.jsxs)("p",{children:["You are dismissing single sign-on prompts for the ",t," organization on this device."]}),s[0]=t,s[1]=e):e=s[1],e}return s[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)("p",{children:"You are dismissing single sign-on prompts for the following organizations on this device:"}),s[2]=n):n=s[2],s[3]!==o?(t=o.map(x),s[3]=o,s[4]=t):t=s[4],s[5]!==t?(r=(0,i.jsxs)(i.Fragment,{children:[n,(0,i.jsx)("ul",{className:"GlobalSSOBanner-module__dismissedOrgList__oIxKU0J",children:t})]}),s[5]=t,s[6]=r):r=s[6],r}function x(e){return(0,i.jsx)("li",{children:e.name},e.id)}p.displayName="DismissalSummary";var y=t(45596),S=t(18990),j=t(46251);function v(e){let n,t,r,s,o,a=(0,l.c)(11),{selectedDurationIndex:c,onDurationChange:u}=e,h=f[c];a[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)("span",{id:"dismissal-duration-label",children:"Remind me again in"}),a[0]=n):n=a[0];let m=h?.text||"Pick duration";return a[1]!==m?(t=(0,i.jsx)(y.W.Button,{trailingAction:d.TriangleDownIcon,"aria-labelledby":"dismissal-duration-label",children:m}),a[1]=m,a[2]=t):t=a[2],a[3]!==u||a[4]!==c?(r=f.map((e,n)=>(0,i.jsx)(S.l.Item,{role:"menuitemradio",selected:n===c,"aria-checked":n===c,onSelect:()=>u(n),children:e.text},e.id)),a[3]=u,a[4]=c,a[5]=r):r=a[5],a[6]!==r?(s=(0,i.jsx)(y.W.Overlay,{children:(0,i.jsx)(S.l,{selectionVariant:"single",role:"menu","aria-labelledby":"dismissal-duration-label",children:r})}),a[6]=r,a[7]=s):s=a[7],a[8]!==t||a[9]!==s?(o=(0,i.jsxs)(j.B,{align:"center",direction:"horizontal",className:"GlobalSSOBanner-module__durationSelector__rUB0UBg",children:[n,(0,i.jsxs)(y.W,{children:[t,s]})]}),a[8]=t,a[9]=s,a[10]=o):o=a[10],o}function O(e){let n,t,r,s,o,a,c,u,d,h,x=(0,l.c)(23),{isOpen:y,onClose:S,onConfirm:j,ssoOrgs:O}=e,[$,k]=m.useState(b);x[0]!==y?(n=()=>{y&&k(b())},t=[y],x[0]=y,x[1]=n,x[2]=t):(n=x[1],t=x[2]),m.useEffect(n,t),x[3]!==j||x[4]!==$?(r=()=>{let e=f[$];j(e?.days??30)},x[3]=j,x[4]=$,x[5]=r):r=x[5];let z=r;return y?(x[6]!==S?(s={buttonType:"default",content:"Cancel",onClick:S},x[6]=S,x[7]=s):s=x[7],x[8]!==z?(o={buttonType:"primary",content:"Confirm",onClick:z},x[8]=z,x[9]=o):o=x[9],x[10]!==s||x[11]!==o?(a=[s,o],x[10]=s,x[11]=o,x[12]=a):a=x[12],x[13]!==O?(c=(0,i.jsx)(p,{ssoOrgs:O}),x[13]=O,x[14]=c):c=x[14],x[15]!==$?(u=(0,i.jsx)(v,{selectedDurationIndex:$,onDurationChange:k}),x[15]=$,x[16]=u):u=x[16],x[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,i.jsxs)("p",{children:["To sign into any of your SSO organizations, visit the"," ",(0,i.jsx)(g.A,{href:"/settings/organizations",inline:!0,children:"SSO settings page."})]}),x[17]=d):d=x[17],x[18]!==S||x[19]!==a||x[20]!==c||x[21]!==u?(h=(0,i.jsxs)(_.l,{title:"Dismiss SSO Banner",width:"medium",height:"auto",onClose:S,footerButtons:a,children:[c,u,d]}),x[18]=S,x[19]=a,x[20]=c,x[21]=u,x[22]=h):h=x[22],h):null}function $({children:e,hidden:n}){let[t,l]=m.useState("visible"),r=m.useRef(null),s=m.useRef(void 0);return(m.useEffect(()=>{if(n&&"visible"===t){l("collapsing");let e=r.current;if(e){let n=e.getBoundingClientRect().height;s.current=n,e.style.height=`${n}px`}}else if("collapsing"===t){let e=setTimeout(()=>{l("hidden")},300);return()=>{clearTimeout(e)}}},[n,t]),"hidden"===t)?null:(0,i.jsx)("div",{ref:r,style:{height:"visible"===t?s.current??"auto":0},className:"GlobalSSOBanner-module__bannerOuterWrapper__swv_inB",children:(0,i.jsx)("div",{className:"GlobalSSOBanner-module__bannerInnerWrapper__Ni1vksx",style:{transform:"visible"===t?void 0:`translateY(-${s.current??0}px)`},children:e})})}v.displayName="DurationMenu",O.displayName="ConfirmationDialog",$.displayName="SlideDismiss";var k=t(11544),z=t(21373),B=t(49864);function C(e,n){let t=`/orgs/${encodeURIComponent(e)}/sso`,i=n.pathname+n.search+n.hash;return`${t}?return_to=${encodeURIComponent(i)}`}function N(e){let n,t,r,s,o,a=(0,l.c)(20),{ssoOrgs:u,redirectLocation:d}=e,{sendClickAnalyticsEvent:h}=(0,c.S)();if(0===u.length)return null;a[0]!==h?(n=()=>{h({category:B.c,action:"click_single_sso_button",label:"sso_authentication"})},a[0]=h,a[1]=n):n=a[1];let m=n;a[2]!==h?(t=e=>{h({category:B.c,action:"click_sso_dropdown_item",label:`org:${e}`})},a[2]=h,a[3]=t):t=a[3];let g=t;if(1===u.length){let e,n,t=u[0];return void 0===t?null:(a[4]!==t.login||a[5]!==d?(e=C(t.login,d),a[4]=t.login,a[5]=d,a[6]=e):e=a[6],a[7]!==m||a[8]!==e?(n=(0,i.jsx)(z.Q,{as:"a",href:e,onClick:m,children:"Single sign-on"}),a[7]=m,a[8]=e,a[9]=n):n=a[9],n)}if(a[10]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(y.W.Button,{size:"small",children:"Single sign-on"}),a[10]=r):r=a[10],a[11]!==g||a[12]!==d||a[13]!==u){let e;a[15]!==g||a[16]!==d?(e=e=>(0,i.jsxs)(S.l.LinkItem,{href:C(e.login,d),onClick:()=>g(e.name),children:[e.avatar_url&&(0,i.jsx)(S.l.LeadingVisual,{children:(0,i.jsx)(k.r,{size:24,src:e.avatar_url})}),e.name]},e.login),a[15]=g,a[16]=d,a[17]=e):e=a[17],s=u.map(e),a[11]=g,a[12]=d,a[13]=u,a[14]=s}else s=a[14];return a[18]!==s?(o=(0,i.jsxs)(y.W,{children:[r,(0,i.jsx)(y.W.Overlay,{children:(0,i.jsx)(S.l,{children:s})})]}),a[18]=s,a[19]=o):o=a[19],o}function w(){let e=(0,r.Ri)(B.z);if(e?.value)try{let n=JSON.parse(e.value);return Array.isArray(n)?n:[]}catch(e){(0,r.Yj)(B.z)}return[]}function D(e){return"object"==typeof e&&null!==e&&"id"in e&&"name"in e&&"login"in e}function T(e){let n,t,s,u,g,_,f,b,p,x,y,S,j,v,k=(0,l.c)(33),{ssoOrgs:z}=e,C=(0,o.zy)(),[D,T]=m.useState("visible"),[R,U]=m.useState(!1),W=m.useRef(!1),{sendClickAnalyticsEvent:A}=(0,c.S)();if(k[0]!==z.length?(n=()=>{!W.current&&z.length>0&&((0,a.iv)({incrementKey:"GLOBAL_SSO_BANNER_DISPLAYED",requestUrl:window.location.href}),W.current=!0)},k[0]=z.length,k[1]=n):n=k[1],k[2]!==z?(t=[z],k[2]=z,k[3]=t):t=k[3],m.useEffect(n,t),0===z.length)return null;k[4]!==z?(s=e=>{let n,t;T("hidden"),n=[...new Set([...w(),...z.map(e=>e.id)])].sort(),(0,r.Yj)(B.z),t=new Date(Date.now()+24*((void 0===e?30:e)??30)*36e5).toUTCString(),(0,r.TV)(B.z,JSON.stringify(n),t)},k[4]=z,k[5]=s):s=k[5];let L=s;k[6]!==A?(u=()=>{A({category:B.c,action:"click_dismiss_button",label:"banner_dismissed"}),U(!0)},k[6]=A,k[7]=u):u=k[7];let G=u;k[8]!==L?(g=e=>{L(e),U(!1)},k[8]=L,k[9]=g):g=k[9];let Y=g;k[10]!==z?(_=()=>{if(0===z.length)return"Single sign-on to see results";let e=z.slice(0,3),n=z.length-3,t=1===z.length?"organization":"organizations";return(0,i.jsxs)(i.Fragment,{children:["Single sign-on to see results in the ",(()=>{let t=e.map(I);if(1===t.length)return t[0];{if(2===t.length)return(0,i.jsxs)(i.Fragment,{children:[t[0]," and ",t[1]]});let e=t.length-1,l=(0,i.jsxs)(i.Fragment,{children:[t[0],", ",t[1],", and ",t[e]]});return n>0?(0,i.jsxs)(i.Fragment,{children:[l,", and ",n," more"]}):l}})()," ",t]})},k[10]=z,k[11]=_):_=k[11];let E=_,F="visible"!==D;return k[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(d.ShieldLockIcon,{}),k[12]=f):f=k[12],k[13]!==E?(b=E(),k[13]=E,k[14]=b):b=k[14],k[15]!==C||k[16]!==z?(p=(0,i.jsx)(N,{ssoOrgs:z,redirectLocation:C}),k[15]=C,k[16]=z,k[17]=p):p=k[17],k[18]!==G||k[19]!==p||k[20]!==b?(x=(0,i.jsx)(h.l,{title:"Single sign-on",className:"GlobalSSOBanner-module__banner__L1SD95O",hideTitle:!0,icon:f,description:b,onDismiss:G,primaryAction:p,"data-testid":"global-sso-banner"}),k[18]=G,k[19]=p,k[20]=b,k[21]=x):x=k[21],k[22]!==x||k[23]!==F?(y=(0,i.jsx)($,{hidden:F,children:x}),k[22]=x,k[23]=F,k[24]=y):y=k[24],k[25]===Symbol.for("react.memo_cache_sentinel")?(S=()=>U(!1),k[25]=S):S=k[25],k[26]!==R||k[27]!==Y||k[28]!==z?(j=(0,i.jsx)(O,{isOpen:R,onClose:S,onConfirm:Y,ssoOrgs:z}),k[26]=R,k[27]=Y,k[28]=z,k[29]=j):j=k[29],k[30]!==y||k[31]!==j?(v=(0,i.jsxs)(i.Fragment,{children:[y,j]}),k[30]=y,k[31]=j,k[32]=v):v=k[32],v}function I(e){return(0,i.jsx)("strong",{children:e.name},e.login)}function R(){let e,n=(0,l.c)(2),{ssoOrgs:t,suppressBanner:r}=function(){let e,n,t,i=(0,l.c)(12),{ssoOrgs:r,baseAvatarUrl:o}=(0,u.N)(),{current_sso_orgs_match_dismissed_cookie:a}=(0,s.X)()??{};if(i[0]!==o||i[1]!==r){let n;i[3]!==o?(n=e=>({...e,avatar_url:`${o}/u/${e.id}`}),i[3]=o,i[4]=n):n=i[4],e=r.filter(D).map(n),i[0]=o,i[1]=r,i[2]=e}else e=i[2];let c=e;if(i[5]!==a||i[6]!==c){let e;n=!0===a||(e=w(),c.length===e.length&&c.every(n=>e.includes(n.id))),i[5]=a,i[6]=c,i[7]=n}else n=i[7];return i[8]!==o||i[9]!==c||i[10]!==n?(t={suppressBanner:n,ssoOrgs:c,baseAvatarUrl:o},i[8]=o,i[9]=c,i[10]=n,i[11]=t):t=i[11],t}();return 0===t.length||r?null:(n[0]!==t?(e=(0,i.jsx)(T,{ssoOrgs:t}),n[0]=t,n[1]=e):e=n[1],e)}N.displayName="SSOActionMenu",T.displayName="GlobalSsoBanner",R.displayName="ContextualGlobalSsoBanner";let U=B.z},49864(e,n,t){t.d(n,{c:()=>i,z:()=>l});let i="global_sso_banner",l="dismissed_sso_orgs"},1775(e,n,t){t.d(n,{N:()=>r});var i=t(16522),l=t(53462);let r=()=>{let e,n,t=(0,i.c)(5),r=(0,l.X)();r?.sso_organizations,r?.base_avatar_url,t[0]!==r?.sso_organizations?(e=r?.sso_organizations??[],t[0]=r?.sso_organizations,t[1]=e):e=t[1];let s=e,o=r?.base_avatar_url??"https://avatars.githubusercontent.com";return t[2]!==o||t[3]!==s?(n={ssoOrgs:s,baseAvatarUrl:o},t[2]=o,t[3]=s,t[4]=n):n=t[4],n}}}]);
//# sourceMappingURL=64616-5e4c9c771b894dc9-73cd4ea09e49cb5f.js.map