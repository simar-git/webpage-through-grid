performance.mark("js-parse-end:69315-2364297fe7d2a640.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["69315"],{99502(e,t,r){r.d(t,{AN:()=>l.AN,TT:()=>l.TT,dU:()=>n.dU,uN:()=>l.uN,E5:()=>l.E5,gY:()=>G,BS:()=>ej,PM:()=>l.PM,MS:()=>l.MS,FN:()=>n.FN,gl:()=>i.gl,Mk:()=>n.Mk,Mp:()=>l.Mp,Hd:()=>l.Hd,FR:()=>l.FR,IG:()=>l.IG,_G:()=>i._G,fF:()=>l.fF,zM:()=>l.zM,gB:()=>i.gB,vL:()=>l.vL,cA:()=>l.cA,sH:()=>e_,Ux:()=>p});var a=r(74848),l=r(76287),n=r(18831),i=r(43627),s=r(30107),o=r(95066),d=r(9652),c=r(89223),u=r(60739),m=r(9907),g=r(34164),v=r(96540),h=r(40961);let p=(0,v.createContext)(null);function f(e,t){let r=(0,v.useRef)(!1);(0,v.useEffect)(()=>(t?(document.body.classList.add(e),r.current=!0):(r.current&&document.body.classList.remove(e),r.current=!1),()=>{r.current&&document.body.classList.remove(e),r.current=!1}),[e,t])}p.displayName="DragAndDropContext";let x=(0,v.createContext)(void 0);x.displayName="RootElementContext";var b=r(70170);let _=e=>`${e} successfully moved to first item in list.`,j=e=>`${e} successfully moved to last item in list.`,D=(e,t,r)=>`${e} successfully moved between ${t} and ${r}.`,y=e=>`${e} did not move.`,S=(e,t,r)=>`${e} will be between ${t} and ${r}.`,M="Move item before",N="Move item after",I="Move to position",C=()=>"",A=(0,b.s)(e=>{(0,s.i)(e,{assertive:!0})},100),w={onDragStart:C,onDragOver:C,onDragMove:C,onDragEnd:C,onDragCancel:C};function $({equalMessage:e,firstPositionMessage:t,lastPositionMessage:r,betweenBeforeMessage:a,betweenAfterMessage:l,newIndex:n,currentIndex:i,items:s,moveAction:o}){if(n===i)return e;if(0===n&&o!==N)return t;if(n===s.length-1&&o!==M)return r;switch(o){case M:return a;case N:return l;case I:if(n<i)return a;return l}}var T=r(50467);let k={start:[l.vL.Space,l.vL.Enter],cancel:[l.vL.Esc],end:[l.vL.Space,l.vL.Enter]};let CustomKeyboardSensor=class CustomKeyboardSensor extends l.uN{};(0,T._)(CustomKeyboardSensor,"activators",[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=k,onActivation:r},{active:a})=>{let{code:l}=e.nativeEvent;if(t.start.includes(l)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),r?.({event:e.nativeEvent}),!0)}return!1}},{eventName:"onClick",handler:(e,{onActivation:t})=>{e.preventDefault();let r=new KeyboardEvent("keydown",{key:"Enter",code:"Enter"});return t?.({event:r}),!0}}]);let E=({collisionRect:e,droppableRects:t,droppableContainers:r})=>{let a=(e.top+e.bottom)/2,l=[];for(let e of r){let{id:r}=e,n=t.get(r);if(n){let t=Math.abs(a-(n.top+n.bottom)/2);l.push({id:r,data:{droppableContainer:e,value:t}})}}return l.sort((e,t)=>e.data.value-t.data.value)},F="DragAndDropContainer-module__container__TgNpSA5";var L=r(64887),P=r(62553);let G=()=>{let e=(0,v.use)(p);if(!e)throw Error("useDragAndDrop can only be accessed from a DragAndDropContext.Provider component");let{overId:t,dragIndex:r,moveToPosition:a,items:l,direction:n,moveDialogItem:i,openMoveDialog:s,isInDragMode:o}=e;return{isDropTarget:(0,v.useCallback)(e=>t===e||null,[t]),isBefore:e=>null!==r&&e<r,moveToPosition:a,items:l,direction:n,moveDialogItem:i,openMoveDialog:s,isInDragMode:o}};var K=r(38621),B=r(67988),O=r(21373),q=r(7624),R=r(93607),U=r(59134),H=r(39081);let V="MoveDialog-module__dialogBody__yFLTvwm";var z=r(19227),Q=r(38750);let J=(0,v.createContext)({formLabel:"",onChange:()=>{}});function X(e){let{formProps:t,setIsInvalidOption:r,setHelperText:l,helperTextId:n}=e,{actions:i,onActionChange:s,actionsLabel:o}=t,[d,c]=(0,v.useState)(i[0]?.value),u=(0,v.useCallback)(e=>{s?.(e);let t=i.find(t=>t.value===e.target.value);t&&c(t.value)},[i,s]);return(0,a.jsx)(J,{value:(0,v.useMemo)(()=>({formLabel:d??"",onChange:(e,t)=>{l(e),r(t)},helperTextId:n}),[d,l,n,r]),children:(0,a.jsxs)("div",{className:(0,g.$)("MoveDialogForm-module__form__k3MgbvV"),children:[i.length>1&&(0,a.jsxs)(q.A,{required:!0,children:[(0,a.jsx)(q.A.Label,{children:o??"Action"}),(0,a.jsx)(P.A,{block:!0,onChange:u,children:i.map(e=>(0,a.jsx)(P.A.Option,{value:e.value,children:e.value},e.value))})]}),i.find(e=>e.value===d)?.renderInput]})})}J.displayName="MoveDialogContext",X.displayName="MoveDialogForm";let W=({ref:e,...t})=>{let{helperText:r,isInvalid:l,...n}=t,{formLabel:i,onChange:s,helperTextId:o}=(0,v.use)(J);return(0,v.useEffect)(()=>{s(r??"",!!l)},[r,l,s]),(0,a.jsxs)(q.A,{required:!0,children:[(0,a.jsx)(q.A.Label,{children:i}),(0,a.jsx)(P.A,{block:!0,"aria-invalid":l,validationStatus:l?"error":void 0,"aria-describedby":o,ref:e,...n})]})};W.displayName="SingleSelect",W.displayName="MoveDialogForm.SingleSelect";let Y=({ref:e,...t})=>{let{isInvalid:r,helperText:l,...n}=t,{formLabel:i,onChange:s,helperTextId:o}=(0,v.use)(J);return(0,v.useEffect)(()=>{s(l,!!r)},[l,r,s]),(0,a.jsxs)(q.A,{required:!0,children:[(0,a.jsx)(q.A.Label,{children:i}),(0,a.jsx)(Q.A,{block:!0,"aria-invalid":r,validationStatus:r?"error":void 0,"aria-describedby":o,ref:e,...n})]})};function Z(e){let{isInvalid:t,helperText:r,...l}=e,{formLabel:n,onChange:i}=(0,v.use)(J);(0,v.useEffect)(()=>{i(r,!!t)},[r,t,i]);let s={...l,renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)(O.Q,{trailingAction:K.TriangleDownIcon,block:!0,...r,children:t})}};return(0,a.jsxs)(q.A,{required:!0,children:[(0,a.jsx)(q.A.Label,{children:n}),(0,a.jsx)(R.X,{...s})]})}function ee(e){let{isInvalid:t,helperText:r,...l}=e,{formLabel:n,onChange:i,helperTextId:s}=(0,v.use)(J);(0,v.useEffect)(()=>{i(r,!!t)},[r,t,i]);let o={anchor:"button",anchorClassName:"MoveDialogForm-module__datePickerAnchor__OGsULPF",compressedHeader:!1,confirmation:!1,confirmUnsavedClose:!0,dateFormat:"long",placeholder:n,showTodayButton:!0,showClearButton:!1,variant:"single",weekStartsOn:"Sunday",...l};return(0,a.jsxs)(q.A,{required:!0,children:[(0,a.jsx)(q.A.Label,{children:n}),(0,a.jsx)(z.DatePicker,{...o,"aria-describedby":s,fieldName:n})]})}Y.displayName="Text",Y.displayName="MoveDialogForm.Text",Z.displayName="MultiSelect",ee.displayName="DateInput",X.SingleSelect=W,X.Text=Y,X.MultiSelect=Z,X.Date=ee,X.SingleSelectOption=P.A.Option;let et="move-dialog-title",er=({closeDialog:e,onSubmit:t,formProps:r,title:l,submitButtonLabel:n,returnFocusRef:i,...o})=>{let c,u,[m,h]=(0,v.useState)(!1),[p,f]=(0,v.useState)(!1),x="";o.multiSelectItems?c=o.selectPanelProps.selected[0]:x=o.selectedItem.value;let[b,_]=(0,v.useState)(""),j=(0,v.useId)(),D=(0,v.useRef)(null);(0,B.g)({containerRef:D,onClickOutside:e=>e.preventDefault()});let y=async e=>{if(e.preventDefault(),m){let e=D.current?.querySelector('[aria-invalid="true"]');e&&e.focus();return}await t?.(e)};return o.multiSelectItems&&(u={...o.selectPanelProps,selected:o.selectPanelProps.selected,onSelectedChange:e=>{o.multiSelectItems&&(e[0]!==c?f(!0):o.selectPanelProps.onSelectedChange?.(e))},renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)(O.Q,{trailingAction:K.TriangleDownIcon,block:!0,...r,children:t})}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H.l,{title:(0,a.jsx)("span",{className:(0,g.$)("MoveDialog-module__title__UD_ELmt"),id:et,...(0,d.G)(et),children:l??(o.multiSelectItems?"Move selected items":"Move selected item")}),onClose:()=>{if(e(),o.multiSelectItems){let e,t,r=o.selectPanelProps.selected;(0,s.i)((e=r[0]?.text??"",t=r?.length??0,`Cancel moving ${e} and ${t} other items`),{assertive:!0})}else{let e;(0,s.i)((e=x,`Cancel moving ${e}`),{assertive:!0})}},width:"large",ref:D,renderBody:()=>(0,a.jsxs)("form",{onSubmit:y,...(0,d.G)("move-dialog-form"),onBlur:e=>e.stopPropagation(),className:(0,g.$)("MoveDialog-module__form__F6PPltL"),noValidate:!0,"aria-labelledby":et,children:[(0,a.jsxs)(H.l.Body,{className:(0,g.$)(V),children:[(0,a.jsx)("div",{className:(0,g.$)("MoveDialog-module__dialogTitle__EIi6M9V"),children:o.multiSelectItems?(0,a.jsxs)(q.A,{required:!0,children:[(0,a.jsx)(q.A.Label,{requiredIndicator:!1,children:"Item(s)"}),(0,a.jsx)(R.X,{...u})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-bold pb-1",children:"Item"}),(0,a.jsx)("span",{children:x})]})}),(0,a.jsx)(X,{formProps:r,setHelperText:_,setIsInvalidOption:h,helperTextId:j}),(0,a.jsxs)(U.A,{"aria-live":"assertive",variant:m?"danger":"default",id:j,...(0,d.G)("drag-and-drop-move-dialog-flash"),children:[m?(0,a.jsx)(K.AlertIcon,{}):(0,a.jsx)(K.InfoIcon,{}),b]})]}),(0,a.jsx)(H.l.Footer,{className:"p-2",children:(0,a.jsx)(O.Q,{type:"submit",variant:"primary",...(0,d.G)("drag-and-drop-move-dialog-move-item-button"),children:n??"Move"})})]}),returnFocusRef:i}),p&&(0,a.jsxs)(H.l,{width:"large",title:"Missing selection",onClose:()=>{o.multiSelectItems&&f(!1)},children:[(0,a.jsx)(H.l.Body,{className:(0,g.$)(V),children:"The first item you selected cannot be deselected when performing a move."}),(0,a.jsx)(H.l.Footer,{className:"p-2",children:(0,a.jsx)(O.Q,{type:"submit",variant:"primary",onClick:()=>{o.multiSelectItems&&f(!1)},children:"I understand"})})]})]})};er.displayName="MoveDialog";let ea=(e,t)=>e!==t+1&&e!==t,el=(e,t)=>e!==t-1&&e!==t,en=(e,t)=>void 0===t||t<0||t>=e.length||isNaN(t),ei=({closeDialog:e,dialogTitle:t,returnFocusRef:r})=>{let l=(0,v.useRef)(null),{moveDialogItem:n,moveToPosition:i,items:o}=G(),{title:c,index:u}=n??{title:"",index:-1},[m,g]=(0,v.useState)(!1),[h,p]=(0,v.useState)(),[f,x]=(0,v.useState)(o.some((e,t)=>ea(t,u))?M:o.some((e,t)=>el(t,u))?N:I),[b,C]=(0,v.useState)(""),A=(0,v.useMemo)(()=>e=>{let t="";if(void 0===e||en(o,e)){let r;t=void 0===e?"Entry is required.":e<0?"Entry must be greater than 0.":e>o.length?(r=o.length,`Entry must be less than or equal to ${r}.`):"Entry is invalid."}else{let r,a,l,n=o[e-1]?.title,i=o[e+1]?.title;t=$({equalMessage:(r=c,`${r} will not be moved.`),firstPositionMessage:(a=c,`${a} will be first item in the list.`),lastPositionMessage:(l=c,`${l} will be last item in the list.`),betweenBeforeMessage:S(c,n,o[e]?.title),betweenAfterMessage:S(c,o[e]?.title,i),newIndex:e,currentIndex:u,items:o,moveAction:f})}C(t)},[c,u,f,o]),w=(0,L.d)(A,100);(0,v.useEffect)(()=>{if(l.current?.value){let e=f===I?-1:0,t=parseInt(l.current?.value,10)+e;p(isNaN(t)?void 0:t),w(isNaN(t)?void 0:t)}},[w,l,f]);let T=async()=>{if(void 0!==h){switch(f){case I:h>=u?await i(u,h,!1):await i(u,h,!0);break;case M:await i(u,h,!0);break;default:await i(u,h,!1)}e(),function({newIndex:e,items:t,title:r,...a}){let l=t[e-1]?.title,n=t[e+1]?.title,i=$({equalMessage:y(r),firstPositionMessage:_(r),lastPositionMessage:j(r),betweenBeforeMessage:D(r,l,t[e]?.title),betweenAfterMessage:D(r,t[e]?.title,n),newIndex:e,items:t,...a});(0,s.i)(i,{assertive:!0})}({newIndex:h,currentIndex:u,items:o,title:c,moveAction:f})}},k=e=>{en(o,e)?g(!0):g(!1),p(e&&isNaN(e)?void 0:e),w(e)};return(0,a.jsx)(er,{closeDialog:e,title:t,formProps:{actions:[...o.some((e,t)=>ea(t,u))?[{value:M,renderInput:(0,a.jsx)(X.SingleSelect,{ref:f===M?l:void 0,helperText:b,onChange:e=>{k(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:o.map((e,t)=>{if(ea(t,u))return(0,a.jsx)(P.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],...o.some((e,t)=>el(t,u))?[{value:N,renderInput:(0,a.jsx)(X.SingleSelect,{ref:f===N?l:void 0,helperText:b,onChange:e=>{k(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:o.map((e,t)=>{if(el(t,u))return(0,a.jsx)(P.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],{value:I,renderInput:(0,a.jsx)(X.Text,{ref:f===I?l:void 0,helperText:b,min:1,max:o.length,defaultValue:u+1,type:"number",onChange:e=>{k(e.currentTarget.value?parseInt(e.currentTarget.value,10)-1:void 0)},isInvalid:m,...(0,d.G)("drag-and-drop-move-dialog-position-input")})}],onActionChange:e=>{x(e.target.value),g(!1)}},selectedItem:{value:c},onSubmit:T,returnFocusRef:r})};ei.displayName="DragAndDropMoveDialog";var es=r(85965),eo=r(79076);let ed="KeyboardSpecificInstructionsDialog-module__instruction__CDGTpVi",ec="hideKeyboardSpecificInstructions",eu=({onClose:e})=>{let[t,r]=(0,m.M)(ec,!1);return(0,a.jsxs)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerContainer__LH8v5sU"),children:[(0,a.jsx)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerForm__siJBdqI"),children:(0,a.jsxs)(q.A,{children:[(0,a.jsx)(es.A,{checked:t,onChange:()=>r(!t)}),(0,a.jsx)(q.A.Label,{children:"Don't show this again"})]})}),(0,a.jsx)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerButton__boEGSij"),children:(0,a.jsx)(O.Q,{onClick:e,children:"Close"})})]})};eu.displayName="KeyboardSpecificInstructionsFooter";let em=({isOpen:e,onClose:t,direction:r,keyboardCodes:l=k})=>e?(0,a.jsx)("div",{onKeyDown:e=>{e.stopPropagation(),"Escape"===e.code&&t()},children:(0,a.jsx)(H.l,{title:"How to move objects via keyboard",subtitle:"This navigation is only available when move mode is activated.",onClose:t,renderFooter:()=>(0,a.jsx)(H.l.Footer,{className:"d-flex",children:(0,a.jsx)(eu,{onClose:t})}),children:(0,a.jsxs)("table",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__instructionContainer__IeGS0Ng"),children:[(0,a.jsx)("thead",{className:"sr-only",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text=bold",children:"Action"}),(0,a.jsx)("th",{className:"text=bold",children:"Keyboard Shortcut"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:(0,g.$)(ed),children:[(0,a.jsx)("td",{children:"Cancel drag mode"}),(0,a.jsx)("td",{children:l.cancel.map((e,t)=>(0,a.jsxs)(v.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:e})]},e))})]}),(0,a.jsxs)("tr",{className:(0,g.$)(ed),children:[(0,a.jsx)("td",{children:"Move item one position"}),(0,a.jsxs)("td",{children:[(0,a.jsx)(eo.U,{keys:"vertical"===r?"up":"left"}),(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:"vertical"===r?"down":"right"})]})]}),(0,a.jsxs)("tr",{className:(0,g.$)(ed,"border-bottom-0"),children:[(0,a.jsx)("td",{children:"Place item"}),(0,a.jsx)("td",{children:l.end.map((e,t)=>(0,a.jsxs)(v.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)("kbd",{className:"bgColor-default box-shadow-none fgColor-muted",children:e.toLowerCase()})]},e))})]})]})]})})}):null;em.displayName="KeyboardSpecificInstructionsDialog";let eg=({onDrop:e,items:t,direction:r="vertical",children:b,as:S="ul",renderOverlay:M,keyboardCodes:N,enableTouch:I=!1,...C},$)=>{let[T,k]=(0,v.useState)(!1),[L,P]=(0,v.useState)(0),[G,K]=(0,v.useState)(!1),[B,O]=(0,v.useState)(0),[q,R]=(0,v.useState)(null),[U,H]=(0,v.useState)(!1),[V]=(0,m.M)(ec,!1),[z,Q]=(0,v.useState)(!1),[J,X]=(0,v.useState)(null),W=t.map(e=>e.id),Y=(0,v.useMemo)(()=>t.reduce((e,t)=>(e[t.id]=t.title,e),{}),[t]);f("is-dragging",T),f("DragAndDropContainer-module__isKeyboardDragging__q96KmEj",z);let[Z,ee]=(0,v.useState)(null),et=(0,u.j)(),er=(0,v.useCallback)(()=>{H(!1)},[]),ea=(0,v.useCallback)(e=>{let t;if(!e.active)return;(0,s.i)((t=Y[e.active.id]??e.active.id,`Moving ${t}.`),{assertive:!0});let r=e.active.data.current?.metadata;R(r?.id??null),O(e.active.data.current?.sortable.index??0),P(e.active.data.current?.sortable.index??0),k(!0)},[Y]),el=(0,v.useCallback)(e=>{let t=e.over?.data.current?.metadata;R(t?.id??null),G||K(!0),e.over&&e.over.data.current&&P(e.over.data.current.sortable.index)},[G]);(0,v.useEffect)(()=>{if(T&&G)if(0===L)A("First item in list.");else if(L===W.length-1)A("Last item in list.");else{let e,t,r=L<=B,a=L===B,l=r?W[L-1]:W[L+1],n=a?W[L+1]:W[L];A((e=Y[l],t=Y[n],`Between ${e} and ${t}.`))}},[T,G,L,Y,W,B]);let en=(0,v.useCallback)(e=>{(0,s.i)(`${Y[e.active.id]??e.active.id} not moved.`,{assertive:!0}),k(!1),Q(!1),K(!1),setTimeout(()=>{document.activeElement?.scrollIntoView({behavior:et?"instant":"smooth",block:"nearest"})},1)},[Y,et]),es=(0,v.useCallback)(r=>{if(k(!1),Q(!1),K(!1),!r.active||!r.over)return;let a=r.active.data.current?.metadata,l=r.over.data.current?.metadata;a?.id!==l?.id&&e({dragMetadata:a,dropMetadata:l,isBefore:L<B}),R(null),function({newIndex:e,currentIndex:t,items:r,title:a}){let l=r.map(e=>e.id);if(e===t)(0,s.i)(y(a),{assertive:!0});else if(0===e)(0,s.i)(_(a),{assertive:!0});else if(e===r.length-1)(0,s.i)(j(a),{assertive:!0});else{let n=e<=t?l[e-1]:l[e+1],i=l[e],o=r.find(e=>e.id===n)?.title??"",d=r.find(e=>e.id===i)?.title??"";(0,s.i)(D(a,o,d),{assertive:!0})}}({newIndex:L,currentIndex:B,items:t,title:Y[r.active.id]})},[L,B,t,Y,e]),eo=(0,v.useCallback)((t,r,a)=>{R(W[r]??null);let l=W[t],n=W[r];l&&n&&e({dragMetadata:{id:l},dropMetadata:{id:n},isBefore:a??r<t})},[W,e]),ed=(0,v.use)(x),eu=(0,v.useMemo)(()=>()=>{G||V||H(!0),Q(!0)},[V,G]),eg=(0,v.useCallback)((e,t,r)=>{X({title:e,index:t,returnFocusRef:r})},[]),ev=(0,v.useCallback)(()=>{X(null),ee(J?.returnFocusRef?.current??null)},[J]),eh=(0,l.MS)(l.IG),ep=(0,l.MS)(l.cA),ef=(0,l.MS)(CustomKeyboardSensor,{coordinateGetter:i.JR,keyboardCodes:N,onActivation:eu}),ex=(0,v.useMemo)(()=>I?[ep,eh,ef]:[ep,ef],[I,ep,eh,ef]),eb=(0,l.FR)(...ex);(0,v.useEffect)(()=>{Z?.focus(),ee(null)},[Z]);let e_=t[B],[ej]=(0,c.I)(()=>document.body,null,[o.XC?.body]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(em,{isOpen:U,onClose:er,direction:r,keyboardCodes:N}),(0,a.jsx)(l.Mp,{collisionDetection:(0,v.useMemo)(()=>"horizontal"===r?l.y$:E,[r]),modifiers:(0,v.useMemo)(()=>"horizontal"===r?[n.dU]:[n.FN],[r]),sensors:eb,onDragStart:ea,onDragOver:el,onDragEnd:es,onDragCancel:en,accessibility:(0,v.useMemo)(()=>({container:ed,announcements:w}),[ed]),children:(0,a.jsx)(i.gB,{items:W,strategy:(0,v.useMemo)(()=>"horizontal"===r?i.m$:i._G,[r]),children:(0,a.jsxs)(p,{value:(0,v.useMemo)(()=>({overId:q,dragIndex:B,moveToPosition:eo,items:t,direction:r,openMoveDialog:eg,moveDialogItem:J,isInDragMode:T&&!U}),[q,B,eo,t,r,eg,J,T,U]),children:[J&&(0,a.jsx)(ei,{closeDialog:ev}),(0,a.jsx)(S,{...C,ref:$,className:(0,g.$)(F,C.className),...(0,d.G)("sortable-list"),onKeyDown:e=>{T&&"Tab"===e.code&&e.preventDefault()},children:b}),ej?(0,h.createPortal)((0,a.jsx)(l.Hd,{dropAnimation:null,className:(0,g.$)(F),children:e_&&!U?M(e_,B):null}),ej):null]})})})]})};eg.displayName="DragAndDropContainer";let ev=(0,v.createContext)({title:"",index:0,id:""});ev.displayName="DragAndDropItemContext";var eh=r(21513),ep=r(26108);let ef=()=>{let e=(0,v.use)(ev);if(!e)throw Error("useDragAndDropItem must be used within a DragAndDropItemContextProvider");return e};function ex({ref:e=null,...t}){let{title:r,id:l}=ef(),{setActivatorNodeRef:n,listeners:s,isDragging:o,items:c}=(0,i.gl)({id:l,data:{metadata:{id:l}}}),u=(0,v.useRef)(null);(0,eh.T)(e,u);let{onMouseDown:m,onClick:h,onKeyDown:p,onTouchStart:f}=s;return(0,a.jsxs)("div",{...(0,d.G)("sortable-trigger-container"),className:(0,g.$)("DragAndDropTrigger-module__trigger__xo4yvdL",1===c.length?"DragAndDropTrigger-module__hideDragHandler__b0IBy93":"DragAndDropTrigger-module__touchEnabled__IbFGOQ7"),children:[(0,a.jsx)("div",{onMouseDown:m,onTouchStart:f,className:(0,g.$)("DragAndDropTrigger-module__mouseTrigger__QfZmO78"),...(0,d.G)("sortable-mouse-trigger")}),(0,a.jsx)(ep.K,{className:"DragAndDropTrigger-module__buttonTrigger__UpIK9h0","aria-label":`Move ${r}`,ref:e=>{u.current=e,n(e)},onKeyDown:p,onClick:h,variant:"invisible",role:o?"application":"button",icon:K.GrabberIcon,size:"large",...t,...(0,d.G)("sortable-trigger")})]})}ex.displayName="DragAndDropTrigger";let eb=({children:e,id:t,index:r,title:l,containerStyle:n,style:s,hideTrigger:o,isDragOverlay:c=!1,role:m,as:h="li",itemClassName:p,elementId:f,...x})=>{let b=(0,u.j)(),{setNodeRef:_,isDragging:j,transform:D,transition:y}=(0,i.gl)({id:t,data:{metadata:{id:t}}}),{direction:S,isInDragMode:M}=G(),N=(0,g.$)("position-relative",x.className,M&&{"DragAndDropItem-module__dragItem__JWH5LsB":j,"DragAndDropItem-module__horizontal__WN9iF2O":"horizontal"===S,"DragAndDropItem-module__vertical__VWhAxzL":"vertical"===S}),I={transform:D?`
        translateX(${Math.round(D.x)}px)
        translateY(${Math.round(D.y)}px)
        scaleX(${D.scaleX})
        scaleY(${D.scaleY})
      `:"none",transition:b?"none":y};return(0,a.jsx)(ev,{value:(0,v.useMemo)(()=>({index:r,title:l,id:t}),[r,t,l]),children:(0,a.jsx)(c?"div":h,{...x,...(0,d.G)(c?"drag-overlay":"sortable-item"),className:N,style:{...c?{}:n,...I},ref:_,id:f,children:(0,a.jsxs)("div",{style:s,className:(0,g.$)("position-relative",p,M&&"DragAndDropItem-module__contents__rPHquGq",c&&"DragAndDropItem-module__dragOverlay__WnMTq34"),role:m,children:[!o&&(0,a.jsx)(ex,{}),e]})})})};eb.displayName="DragAndDropItem";let e_=({ref:e,Component:t,returnFocusRef:r,...l})=>{let{title:n,index:i}=ef(),{items:s,openMoveDialog:o}=G(),d=(0,v.useCallback)(()=>{o(n,i,r??e)},[o,n,i,r,e]);return 1===s.length?null:(0,a.jsx)(t,{...l,onClick:d,onSelect:d,ref:e})};e_.displayName="MoveDialogTrigger",e_.displayName="MoveDialogTrigger";let ej=Object.assign(eg,{Item:eb,DragTrigger:ex,MoveDialog:er,MoveDialogForm:X,MoveDialogTrigger:e_,DragAndDropMoveDialog:ei});r(74979)},60739(e,t,r){let a;r.d(t,{j:()=>d});var l=r(96540);function n(){return a||(a=window.matchMedia("(prefers-reduced-motion: reduce)"))}function i(){return!1}function s(){return n().matches}function o(e){let t=n();return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}function d(){return(0,l.useSyncExternalStore)(o,s,i)}},9907(e,t,r){r.d(t,{M:()=>d,s:()=>c});var a=r(50467),l=r(68439),n=r(96540);let i=(0,l.A)("localStorage"),s="local-storage-update",o=class UseLocalStorageUpdateEvent extends Event{constructor(e,t){super(s),(0,a._)(this,"storageKey",void 0),(0,a._)(this,"storageValue",void 0),this.storageKey=e,this.storageValue=t}};function d(e,t){let r=(0,n.useRef)(t);(0,n.useEffect)(()=>{r.current=t});let[a,l]=(0,n.useState)(()=>{let t=i.getItem(e);return t?JSON.parse(t):r.current}),d=(0,n.useCallback)(t=>{l(t??r.current),void 0===t?i.removeItem(e):i.setItem(e,JSON.stringify(t)),document.dispatchEvent(new o(e,t))},[e]);return(0,n.useEffect)(()=>{function t(t){t.storageKey===e&&l(t.storageValue??r.current)}document.addEventListener(s,t);let a=i.getItem(e);return a?l(JSON.parse(a)):l(r.current),()=>{document.removeEventListener(s,t)}},[e]),[a,d]}function c(e){for(let t of e)i.removeItem(t),document.dispatchEvent(new o(t,void 0))}}}]);
//# sourceMappingURL=69315-2364297fe7d2a640-a6636e155a944dbd.js.map