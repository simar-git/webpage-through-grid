performance.mark("js-parse-end:84164-a09837a3abe4953d.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["84164"],{59644(e,t,n){n.d(t,{I:()=>r});let r=(0,n(96540).createContext)(null);r.displayName="AnalyticsContext"},14845(e,t,n){n.d(t,{O:()=>s,S:()=>a});var r=n(95066);let i=r.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",a="X-GitHub-Client-Version";function s(){return i}},33455(e,t,n){n.d(t,{jC:()=>l,kt:()=>a,tV:()=>s});var r=n(14845),i=n(62159);function a(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,i.wE)(e)};return{...t,[r.S]:(0,r.O)()}}function s(e,t){for(let[n,r]of Object.entries(a(t)))e.set(n,r)}function l(e){return{"X-GitHub-App-Type":e}}},62159(e,t,n){n.d(t,{$r:()=>s,M1:()=>l,li:()=>i,pS:()=>c,wE:()=>o});var r=n(95066);let i="X-Fetch-Nonce",a=new Set;function s(e){a.add(e)}function l(){return a.values().next().value||""}function o(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[i]=l():a.has(e)?t[i]=e:t[i]=Array.from(a).join(","),t}function c(){let e=r.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&s(e)}},82425(e,t,n){n.d(t,{Av:()=>l,BM:()=>r,HX:()=>d,M_:()=>h,RD:()=>u,rb:()=>i});let r="GraphQLTraces",i="GraphQLTracingRefresh",a=s()?decodeURIComponent(new URLSearchParams(window.location.search).get("disable_clusters")||"").split(",").filter(e=>""!==e):[];function s(){return"u">typeof window}function l(e){if(!s()||!o()||!e)return;let t=window;t&&!t[r]&&(t[r]=[]),t&&e.__trace&&(t[r].push(e.__trace),"function"==typeof t[i]&&t[i]())}function o(){if(!s())return!1;let e=window;return"true"===new URLSearchParams(window.location.search).get("_tracing")||e&&void 0!==e[r]}function c(){return a.length>0}function u(e){if(!s()||!o()&&!c())return e;let t=new URL(e,window.location.origin);return o()&&t.searchParams.set("_tracing","true"),c()&&t.searchParams.set("disable_clusters",a.join(",")),t.pathname+t.search}function d(e){return a.indexOf(e)>-1}function h(e){if(!s())return;let t=a.indexOf(e);t>-1?a.splice(t,1):a.push(e);let n=new URLSearchParams(window.location.search);n.set("disable_clusters",a.join(",")),window.location.search=n.toString()}},62561(e,t,n){n.d(t,{l:()=>r});let r=()=>void 0},76466(e,t,n){var r=n(80730),i=n(74848),a=n(96540),s=n(45596),l=n(49305),o=n(39081),c=n(38621),u=n(68695);let d=async e=>{try{let t=await (0,u.DI)("/notifications/subscribe",{method:"POST",body:e});if(t.ok)return{ok:!0,errorMsg:""};{let e=await t.json(),n=e.error?e.error:"Failed to update";return{ok:!1,errorMsg:n}}}catch(e){return{ok:!1,errorMsg:e instanceof Error?e.message:"Failed to update"}}};var h=n(18990);let p="none",m="watching",f="ignoring",b="custom",g={[p]:"Participating and @mentions",[m]:"All Activity",[f]:"Ignore",[b]:"Custom"},w={...g,[p]:"Participating"},_={[p]:"Watch",[m]:"Unwatch",[f]:"Stop ignoring",[b]:"Unwatch"},y=[{name:g[p],description:"Only receive notifications from this repository when participating or @mentioned.",subscriptionType:p},{name:g[m],description:"Notified of all notifications on this repository.",subscriptionType:m},{name:g[f],description:"Never be notified.",subscriptionType:f},{name:g[b],description:"Select events you want to be notified of in addition to participating and @mentions.",trailingIcon:(0,a.createElement)(c.ArrowRightIcon),subscriptionType:b}],S=e=>e in _?_[e]:"";function x(e){return(0,i.jsx)(h.l,{selectionVariant:"single",children:y.map((t,n)=>(0,i.jsxs)(a.Fragment,{children:[(0,i.jsxs)(h.l.Item,{selected:t.subscriptionType===e.selected,onSelect:()=>e.onSelect(t.subscriptionType),children:[(0,i.jsx)("span",{className:"SubscriptionList-module__subscriptionTypeName__isFzuVc",children:t.name}),(0,i.jsx)(h.l.Description,{variant:"block",children:t.description}),t.trailingIcon?(0,i.jsx)(h.l.TrailingVisual,{children:t.trailingIcon}):null]}),n!==y.length-1?(0,i.jsx)(h.l.Divider,{}):""]},n))})}x.displayName="SubscriptionList";var v=n(7624),C=n(85965),j=n(93607),A=n(21373);function T(e){let[t,n]=(0,a.useState)(!1),[r,s]=(0,a.useState)(""),l=e.items.filter(e=>e?.text?.toLowerCase().startsWith(r.toLowerCase()));return(0,i.jsx)(j.X,{title:"Select labels",renderAnchor:({children:t,...n})=>0===e.items.length?(0,i.jsx)(A.Q,{...n,trailingAction:c.TriangleDownIcon,"aria-haspopup":"dialog",children:"No labels available"}):(0,i.jsxs)(A.Q,{...n,trailingAction:c.TriangleDownIcon,"aria-haspopup":"dialog",children:[(0,i.jsx)("span",{className:"color-fg-muted",children:"Labels: "}),(0,i.jsx)("span",{id:"select-labels",children:e.labelsText})]}),placeholder:"Filter labels",open:t,onCancel:e.resetLabels,onOpenChange:(t,r)=>{n(t),"click-outside"===r&&e.applyLabels()},items:l,selected:e.selectedLabels,onSelectedChange:e.onChangeLabels,onFilterChange:s,showItemDividers:!0,overlayProps:{width:"small",height:"medium",maxHeight:"medium"}})}T.displayName="FilterLabels";var L=n(7478);function N(e){let[t,n]=(0,a.useState)(!1),r=(0,a.useCallback)(()=>(e.nextFocusRef?.current?.focus(),!0),[e.nextFocusRef]),s=(0,a.useCallback)(()=>{n(!0)},[]),l=(0,a.useCallback)(()=>{e.onApply(),setTimeout(()=>{e?.checkStatus&&e.checkStatus(s)},600)},[e,s]);return(0,i.jsxs)("div",{className:"FooterActions-module__footerContainer__rILtlUQ",children:[e.showError?(0,i.jsx)("span",{className:"FooterActions-module__errorMessageText__d1_qHG1",children:"Error. Please try again."}):null,(0,i.jsxs)("div",{className:"FooterActions-module__buttonsContainer___cNSHBx",style:e.overrideButtonStyles??{padding:"var(--base-size-16)"},children:[!e.showError&&t?(0,i.jsx)(L.A,{size:"small",className:"FooterActions-module__FooterActionsSpinner__EyMJPQD"}):null,(0,i.jsx)(A.Q,{size:"small",onClick:()=>e.onCancel(),onBlur:t=>{e.disabled&&r(t)},children:"Cancel"}),(0,i.jsx)(A.Q,{disabled:e.disabled,variant:"primary",size:"small",onClick:()=>l(),onBlur:r,className:"FooterActions-module__applyButton__UPy7oWm",children:"Apply"})]})]})}N.displayName="FooterActions";let k=e=>{let t=R(e,2);if(e.length>=2){if(2===e.length)return I(e);let n=R(e,3);if(n.length>30)return`${t.slice(0,30)}... +${e.length-2} more`;{let t=e.length>3?` +${e.length-3} more`:"";return`${n}${t}`}}if(1!==e.length)return"All";{let t=e[0]?.text||"";return t.length>30?`${t.slice(0,30)}...`:t}},I=e=>{let t=e[0]?.text||"",n=R(e,2);return n.length>30?t.length>25?`${t.slice(0,25)}... +1 more`:`${n.slice(0,30)}...`:n},R=(e,t)=>e.slice(0,t).map(e=>e.text).join(", "),E=e=>{switch(e){case"PullRequest":return"Pull requests";case"SecurityAlert":return"Security alerts";default:return`${e}s`}};function O(e){let[t,n]=(0,a.useState)(()=>{let t=[...e.appliedThreads];return e.appliedLabels.length>0&&!t.includes("Issue")&&t.push("Issue"),t}),[r,s]=(0,a.useState)(e.appliedLabels),[l,o]=(0,a.useState)(e.appliedLabels),[c,u]=(0,a.useState)(()=>k(e.appliedLabels)),d=(0,a.useCallback)(e=>{t&&t.includes(e)?n(t.filter(t=>t!==e)):n([...t,e])},[t]),h=(0,a.useCallback)(e=>{o(e),u(k(e))},[]),p=(0,a.useCallback)(()=>{s(l)},[l]),m=(0,a.useCallback)(()=>{o(r),u(k(r))},[r]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"ThreadList-module__threadContent__mxjMVgl",children:e.subscribableThreadTypes.map((n,r)=>(0,i.jsxs)("div",{className:"ThreadList-module__threadRow__VS4MIXj",style:r===e.subscribableThreadTypes.length-1?{}:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"},children:[(0,i.jsxs)(v.A,{children:[(0,i.jsx)(C.A,{checked:t.includes(n.name),onChange:()=>d(n.name)}),(0,i.jsx)(v.A.Label,{children:E(n.name)})]}),n.enabled?null:(0,i.jsxs)("p",{className:"ThreadList-module__threadDisabledMessage__G8H9cVq",children:[E(n.name)," are not enabled for this repository"]}),(0,i.jsx)("div",{"aria-live":"polite",children:"Issue"===n.name&&e.showLabelSubscriptions&&t.includes("Issue")?(0,i.jsx)("div",{className:"ThreadList-module__filterContainer__G7CrZCc",children:(0,i.jsx)(T,{items:e.repoLabels,labelsText:c,onChangeLabels:h,selectedLabels:l,applyLabels:p,resetLabels:m})}):null})]},r))}),(0,i.jsx)(N,{onCancel:e.cancelMenuCallback,onApply:()=>e.saveThreads(t,l),showError:e.showError,disabled:0===t.length||e.isSavingThreads})]})}O.displayName="ThreadList";function F({repositoryId:e,repositoryName:t,watchersCount:n,subscriptionType:r,subscribableThreadTypes:u,repositoryLabels:h,showLabelSubscriptions:g}){let _=(0,a.useMemo)(()=>h.map(e=>({id:e.id,text:e.name,selected:e.subscribed})),[h]),y=_.filter(e=>e.selected),v=(0,a.useMemo)(()=>u.map(e=>e.subscribed||"Issue"===e.name&&g&&y.length>0?e.name:null).filter(e=>null!==e),[u,g,y]),[C,j]=(0,a.useState)(!1),[A,T]=(0,a.useState)(!1),[L,N]=(0,a.useState)(!1),[k,I]=(0,a.useState)(""),R=(0,a.useCallback)(()=>N(!1),[]),[E,F]=(0,a.useState)(v.length>0?b:r),[P,M]=(0,a.useState)(E),[D,q]=(0,a.useState)(v),[G,$]=(0,a.useState)(y),[H,U]=(0,a.useState)(!1),X=(0,a.useRef)(null),B=(0,a.useCallback)(()=>{T(!1),F(P)},[P]),V=(0,a.useCallback)(async(t,n)=>{U(!0),q(t),$(n),M(b);let r=new FormData;r.set("do","custom"),r.set("repository_id",e),t.map(e=>{r.append("thread_types[]",e)}),n.map(e=>{e.id&&r.append("labels[]",e.id.toString())}),(await d(r)).ok?(T(!1),U(!1)):j(!0)},[e]),Q=(0,a.useCallback)(async t=>{let n=new FormData;return t===f?n.set("do","ignore"):t===m?n.set("do","subscribed"):(t===p||t===b&&0===D.length)&&n.set("do","included"),n.append("thread_types[]",""),n.set("repository_id",e),await d(n)},[e,D]),W=(0,a.useCallback)(async e=>{if(e===b)T(!0),F(b);else{let t=await Q(e);t.ok?(F(e),M(e),q([])):J(t.errorMsg)}},[F]),J=e=>{switch(e){case"limit_exceeded":N(!0),I("limit_exceeded");break;case"forbidden":N(!0),I("forbidden")}},z=(0,a.useCallback)(e=>{q(e)},[q]),K=(0,a.useMemo)(()=>{let e,n;return e=S(E),n=w[E],E===f?`${e} in ${t}`:`${e}: ${n} in ${t}`},[E,t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.W,{children:[(0,i.jsxs)(s.W.Button,{"data-testid":"notifications-subscriptions-menu-button",size:"small",leadingVisual:E===f?c.BellSlashIcon:c.EyeIcon,className:"NotificationsSubscriptionsMenu-module__ActionMenuButton__UsTrHRk","aria-label":K,children:[S(E),(0,i.jsx)("span",{className:"ml-2 Counter rounded-3 NotificationsSubscriptionsMenu-module__watchCounter__wM7O0kI",children:n})]}),(0,i.jsx)(s.W.Overlay,{width:"medium",children:(0,i.jsx)(x,{selected:E,onSelect:W})})]}),(0,i.jsx)(l.A,{className:"NotificationsSubscriptionsMenu-module__subscriptionDialog__l0RAFPS",returnFocusRef:X,isOpen:A,onDismiss:()=>B(),"aria-labelledby":"header",children:(0,i.jsxs)("div",{"data-testid":"inner",children:[(0,i.jsxs)(l.A.Header,{id:"header",children:["Subscribe to events for ",t]}),(0,i.jsx)(O,{subscribableThreadTypes:u,showLabelSubscriptions:g,cancelMenuCallback:B,appliedThreads:D,repoLabels:_,subscribedThreads:v,applyThreads:z,appliedLabels:G,saveThreads:V,showError:C,isSavingThreads:H})]})}),L&&(0,i.jsx)(o.l,{title:"You are unable to watch this repository",onClose:R,children:(0,i.jsxs)(o.l.Body,{children:["forbidden"===k&&"This action is not available for this repository.","limit_exceeded"===k&&(0,i.jsxs)(i.Fragment,{children:["You have reached the limit of 10,000 watched repositories. Update your"," ",(0,i.jsx)("a",{href:"/watching",children:"watch settings"})," to continue."]})]})})]})}F.displayName="NotificationsSubscriptionsMenu",(0,r.k)("notifications-subscriptions-menu",{Component:F})},53659(e,t,n){n.d(t,{Y:()=>r});function r(){let e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},91988(e,t,n){let r;n.d(t,{A:()=>d});var i=n(23131),a=n(68439),s=n(54695);let{getItem:l,setItem:o,removeItem:c}=(0,a.A)("localStorage"),u="REACT_PROFILING_DISABLED_UNTIL",d={enable:()=>{c(u),r=void 0},disable:()=>{o(u,String(Date.now()+864e5)),r=!1},isEnabled:()=>!("u"<typeof window)&&(void 0!==r?r:(0,i.G7)("react_quality_profiling")?r=(0,s.Xl)()?function(){let e=l(u);if(!e)return!0;let t=Number(e);return!!(Number.isNaN(t)||Date.now()>=t)&&(c(u),!0)}():.02>Math.random():(r=!1,!1)),resetCache:()=>{r=void 0}}},83157(e,t,n){n.d(t,{Ex:()=>s,kt:()=>o,xA:()=>l});var r=n(95066);let i=Array(10).fill(null),a=0;function s(e){i[a]=e,a=(a+1)%10}function l(){let e=[];for(let t=0;t<10;t++){let n=i[(a-1-t+10)%10];n&&e.push(n)}return e}function o(){let e=r.XC;if(!e)return;let t=e.querySelector('meta[name="request-id"]'),n=t?.getAttribute("content");n&&s(n)}},43083(e,t,n){n.d(t,{BP:()=>u,D3:()=>c,O8:()=>l});var r=n(74848),i=n(16522),a=n(96540),s=n(74359);let l={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},o=(0,a.createContext)(l.ClientRender);function c(e){let t,n,c,u,d=(0,i.c)(8),{wasServerRendered:h,children:p}=e;d[0]!==h?(t=()=>s.X3?l.ServerRender:h?l.ClientHydrate:l.ClientRender,d[0]=h,d[1]=t):t=d[1];let[m,f]=(0,a.useState)(t);return d[2]!==m?(n=()=>{m!==l.ClientRender&&f(l.ClientRender)},c=[m],d[2]=m,d[3]=n,d[4]=c):(n=d[3],c=d[4]),(0,a.useLayoutEffect)(n,c),d[5]!==p||d[6]!==m?(u=(0,r.jsx)(o,{value:m,children:p}),d[5]=p,d[6]=m,d[7]=u):u=d[7],u}function u(){return(0,a.use)(o)}o.displayName="RenderPhaseContext",c.displayName="RenderPhaseProvider"},68439(e,t,n){n.d(t,{A:()=>s,D:()=>l});var r=n(95066),i=n(54695);let a=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function s(e,t={throwQuotaErrorsOnSet:!1},n=r.cg,l=e=>e,o=e=>e){let c;try{if(!n)throw Error();c=n[e]||new a}catch{c=new a}let{throwQuotaErrorsOnSet:u}=t;function d(e){t.sendCacheStats&&(0,i.iv)({incrementKey:e})}function h(e){try{if(c.removeItem(e),t.ttl){let t=`${e}:expiry`;c.removeItem(t)}}catch{}}return{getItem:function(e,t=Date.now()){try{let n=c.getItem(e);if(!n)return null;let r=`${e}:expiry`,i=Number(c.getItem(r));if(i&&t>i)return h(e),h(r),d("SAFE_STORAGE_VALUE_EXPIRED"),null;return d("SAFE_STORAGE_VALUE_WITHIN_TTL"),l(n)}catch{return null}},setItem:function(e,n,r=Date.now()){try{if(c.setItem(e,o(n)),t.ttl){let n=`${e}:expiry`,i=r+t.ttl;c.setItem(n,i.toString())}}catch(e){if(u&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:h,clear:()=>c.clear(),getKeys:function(){return Object.keys(c)},get length(){return c.length}}}function l(e){return s(e,{throwQuotaErrorsOnSet:!1},r.cg,JSON.parse,JSON.stringify)}},73220(e,t,n){n.d(t,{Ai:()=>a,Gq:()=>r,SO:()=>i});let{getItem:r,setItem:i,removeItem:a}=(0,n(68439).A)("sessionStorage")},14428(e,t,n){n.d(t,{BW:()=>s,Ff:()=>f,HK:()=>S,JA:()=>A,LM:()=>b,Pv:()=>C,Vy:()=>m,ZW:()=>v,dR:()=>x,di:()=>g,gc:()=>j,k9:()=>y,my:()=>_,wG:()=>w,xT:()=>p});var r=n(73220),i=n(95066),a=n(24027);let s="reload",l="soft-nav:fail",o="soft-nav:fail-referrer",c="soft-nav:referrer",u="soft-nav:marker",d="soft-nav:react-app-name",h="soft-nav:latest-mechanism";function p(){(0,r.SO)(u,"0"),(0,r.Ai)(c),(0,r.Ai)(l),(0,r.Ai)(o),(0,r.Ai)(d),(0,r.Ai)(h)}function m(e){(0,r.SO)(u,e)}function f(){(0,r.SO)(u,"0")}function b(){let e=(0,r.Gq)(u);return e&&"0"!==e}function g(){return(0,r.Gq)(u)}function w(){return!!_()}function _(){return(0,r.Gq)(l)}function y(e){(0,r.SO)(l,e||s),(0,r.SO)(o,window.location.href)}function S(){(0,r.SO)(c,window.location.href)}function x(){return(0,r.Gq)(c)||document.referrer}function v(){let e=(0,a.f)();e?(0,r.SO)(d,e):(0,r.Ai)(d)}function C(){return(0,r.Gq)(d)}function j(){return!!i.XC?.querySelector("react-app")?.getAttribute("app-name")||!!i.XC?.querySelector("projects-v2")}function A(e){(0,r.SO)(h,e)}},68695(e,t,n){n.d(t,{DI:()=>s,QJ:()=>o,Sr:()=>c,lS:()=>l});var r=n(33455),i=n(83157),a=n(82425);async function s(e,t={}){let n,l,o,c;var u,d=e;if(new URL(d,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch");let{tracingEnabled:h,fetchPath:p}=(n=new URL(u=e,window.location.href),(o=(l=new URL(window.location.href,window.location.origin)).searchParams.get("_features"))&&!n.searchParams.has("_features")&&n.searchParams.set("_features",o),(c=l.searchParams.get("_tracing"))&&!n.searchParams.has("_tracing")&&n.searchParams.set("_tracing",c),{tracingEnabled:!!c,fetchPath:u.startsWith(window.location.origin)?n.href:`${n.pathname}${n.search}`}),m={...t.headers,"GitHub-Verified-Fetch":"true",...(0,r.kt)()},f=await fetch(p,{...t,headers:m}),b=f?.headers?.get("X-Github-Request-Id");if(b&&(0,i.Ex)(b),h&&f){let e=f.clone();try{let t=await e.text(),n=t&&JSON.parse(t);(0,a.Av)(n)}catch{}}return f}function l(e,t){let n={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},r=t?.body?JSON.stringify(t.body):void 0;return s(e,{...t,body:r,headers:n})}function o(e,t={}){let n={...t.headers,"GitHub-Is-React":"true"};return s(e,{...t,headers:n})}function c(e,t){let n={...t?.headers??{},"GitHub-Is-React":"true"};return l(e,{...t,headers:n})}}}]);
//# sourceMappingURL=84164-a09837a3abe4953d-4d339efe8dc31555.js.map